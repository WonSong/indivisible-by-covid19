!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([,function(e,t){e.exports=React},function(e,t,n){"use strict";(function(e){n.d(t,"p",(function(){return r})),n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return o})),n.d(t,"m",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"e",(function(){return y}));var r="undefined",i="object",o="prototype",a="function";function s(){return typeof globalThis!==r&&globalThis?globalThis:typeof self!==r&&self?self:typeof window!==r&&window?window:typeof e!==r&&e?e:null}function c(e){var t=s();return t&&t[e]?t[e]:"window"===e&&l()?window:null}function l(){return Boolean(typeof window===i&&window)}function u(){return l()?window:c("window")}function p(){return Boolean(typeof document===i&&document)}function d(){return p()?document:c("document")}function f(){return Boolean(typeof navigator===i&&navigator)?navigator:c("navigator")}function h(){return Boolean(typeof history===i&&history)?history:c("history")}function g(){return typeof location===i&&location?location:c("location")}function m(){return c("performance")}function v(){return Boolean(typeof JSON===i&&JSON||null!==c("JSON"))}function y(){return v()?JSON||c("JSON"):null}}).call(this,n(64))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PrimaryColor="rgb(255, 23, 72)",e.PrimaryColorLighter="rgb(255, 23, 72, 0.8)",e.LinkColor="#36a2eb",e.LinkColorDarker="#3091d3",e.LinkColorEvenDarker="#2b81bc"}(t.Color||(t.Color={}))},function(e,t){e.exports=ReactRouterDOM},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s=n(12),c=n(4),l=n(3),u=s.css(i||(i=r(["\n    font-weight: 600;\n    color: ",";\n    text-decoration: none;\n    transition: color 0.1s linear;\n    cursor: pointer;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    font-weight: 600;\n    color: ",";\n    text-decoration: none;\n    transition: color 0.1s linear;\n    cursor: pointer;\n\n    &:hover {\n        color: ",";\n    }\n"])),l.Color.LinkColor,l.Color.LinkColorEvenDarker);t.Link=styled(c.Link)(o||(o=r(["\n    ",";\n"],["\n    ",";\n"])),u),t.ExternalLink=styled.a(a||(a=r(["\n    ",";\n"],["\n    ",";\n"])),u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.DataContext=r.createContext({})},function(e,t,n){"use strict";var r,i,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Section=styled.div(r||(r=o(["\n    margin-bottom: 36px;\n"],["\n    margin-bottom: 36px;\n"]))),t.SectionContent=styled.div(i||(i=o(["\n    padding: 0 12px;\n"],["\n    padding: 0 12px;\n"])))},function(e,t,n){"use strict";var r,i,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Heading=styled.div(r||(r=o(["\n    font-size: 18px;\n    font-weight: 600;\n    color: #444;\n    margin-bottom: 12px;\n"],["\n    font-size: 18px;\n    font-weight: 600;\n    color: #444;\n    margin-bottom: 12px;\n"]))),t.Heading2=styled.div(i||(i=o(["\n    font-size: 16px;\n    font-weight: 600;\n    color: #444;\n    margin-bottom: 24px;\n"],["\n    font-size: 16px;\n    font-weight: 600;\n    color: #444;\n    margin-bottom: 24px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(){var e=document.getElementById("bg");if(e){var t=document.documentElement.scrollTop;if(0!==t){e.style.display="block";var n=t/1e3*2;e.style.backgroundColor="rgba(0, 0, 0, "+(n>.7?.7:n)+")"}else e.style.display="none"}}var o=n(40).debounce(i,5,!0);t.useDarkerBackgroundOnScroll=function(){r.useEffect((function(){window.scrollTo(0,0),i()}),[]),r.useEffect((function(){return window.addEventListener("scroll",o),function(){window.removeEventListener("scroll",o)}}),[])}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(12);t.Content=styled.div(o||(o=r(["\n    margin-left: -16px;\n    margin-right: -16px;\n    padding-left: 16px;\n    padding-right: 16px;\n    padding-bottom: 16px;\n    overflow: auto;\n\n    @media (min-width: 1200px) {\n        ","\n    }\n"],["\n    margin-left: -16px;\n    margin-right: -16px;\n    padding-left: 16px;\n    padding-right: 16px;\n    padding-bottom: 16px;\n    overflow: auto;\n\n    @media (min-width: 1200px) {\n        ","\n    }\n"])),(function(e){var t=e.margin;return a.css(i||(i=r(["\n            height: calc(100% - 360px - ","px);\n        "],["\n            height: calc(100% - 360px - ","px);\n        "])),t||0)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(16);t.useTrackPage=function(e){var t=r.useContext(i.TelemetryContext);r.useEffect((function(){return null==t||t.startTrackPage(e),function(){null==t||t.stopTrackPage(e)}}),[e])}},function(e,t){e.exports=styled},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=function(e){return e.replace(/ /g,"-").toLowerCase()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(41))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(47))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.TelemetryContext=r.createContext({})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(54))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(23),o=n(4),a=n(24),s=n(29),c=n(61),l=n(63);i.render(r.createElement((function(){return r.createElement(o.BrowserRouter,null,r.createElement(l.TelemetryProvider,null,r.createElement(c.DataProvider,null,r.createElement(o.Route,{path:"/:route?/:state?"},r.createElement(a.Map,null),r.createElement(s.Control,null),r.createElement("div",{id:"bg"})))))}),null),document.getElementById("app"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(25))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(26),a=n(27),s=n(28);function c(){return window.innerWidth>1200}function l(e){null==e||e.setView({center:new Microsoft.Maps.Location(c()?40:35,c()?-105:-95),zoom:c()?5:3})}t.Map=function(){var e=i.useHistory().push,t=i.useLocation().search,n=i.useParams().state,u=a.useMap("map",(function(t,n){if(!(c()&&n<7)&&(c()||!(n<6))){var r=function(e){var t,n,r="",i=0;for(var o in s.stateCoordinates){var a=(t=e,n=s.stateCoordinates[o],Math.abs(t[0]-n[0])+Math.abs(t[1]-n[1]));(!r||i>a)&&(r=o,i=a)}return r}(t);e("/states/"+r+"?focus=false")}}));return r.useEffect((function(){if(!n)return l(u);var e=s.stateCoordinates[n];if(!e)return l(u);t.indexOf("focus=false")>-1||null==u||u.setView({center:new Microsoft.Maps.Location(c()?e[0]:e[0]-1,c()?e[1]-2:e[1]),zoom:c()?7:6})}),[n]),r.createElement(o.Root,{id:"map"})}},function(e,t,n){"use strict";var r,i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Root=styled.div(r||(r=i(["\n    position: fixed !important;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 65vh;\n\n    @media (min-width: 1200px) {\n        position: static;\n        width: 100%;\n        height: 100vh;\n    }\n"],["\n    position: fixed !important;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 65vh;\n\n    @media (min-width: 1200px) {\n        position: static;\n        width: 100%;\n        height: 100vh;\n    }\n"])))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function a(e){return new Promise((function(t){var n=[];for(var r in e){var i=e[r];for(var o in i){var a=i[o];a.coordinate&&n.push({cityName:o,coordinate:a.coordinate,incidentCount:a.incidents.length})}}t(n.map((function(e){var t=e.cityName,n=e.coordinate,r=e.incidentCount,i=r*(window.innerWidth<1200?5:10),o=.7-r/10;return new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(n[0],n[1]),{icon:'\n                        <svg xmlns="http://www.w3.org/2000/svg" width="'+2*i+'" height="'+2*i+'">\n                            <circle cx="'+i+'" cy="'+i+'" r="'+i+'" fill="rgba(255,23,72, '+(.3>o?.3:o)+')" />\n                        </svg>',anchor:new Microsoft.Maps.Point(i,i),title:t+" ("+r+")"})})))}))}t.useMap=function(e,t){var n=o.useRef();return o.useEffect((function(){var o=document.getElementById(e);if(o)var s=setInterval((function(){if(Microsoft.Maps){Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(25.146013259887695,-139.79075622558594),new Microsoft.Maps.Location(49.38435745239258,-66.97039794921875));n.current=new Microsoft.Maps.Map(o,{mapTypeId:Microsoft.Maps.MapTypeId.grayscale,supportedMapTypes:[],zoom:window.innerWidth>1200?5:3,showMapTypeSelector:!1,showZoomButtons:!1,center:new Microsoft.Maps.Location(window.innerWidth>1200?40:35,window.innerWidth>1200?-105:-95),showLocateMeButton:!1}),Microsoft.Maps.loadModule("Microsoft.Maps.Clustering",(function(){(function(){return r(this,void 0,Promise,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,fetch("/data.json")];case 1:if(!(e=t.sent()).ok)throw new Error("Failed to fetch data");return[4,e.json()];case 2:return[2,t.sent()]}}))}))})().then(a).then((function(e){e.forEach((function(e){Microsoft.Maps.Events.addHandler(e,"click",(function(){var t;null===(t=n.current)||void 0===t||t.setView({center:e.getLocation(),zoom:window.innerWidth>1200?7:6})}))})),n.current.entities.push(e)}))})),Microsoft.Maps.Events.addHandler(n.current,"viewchangeend",(function(){var e,r,i=null===(e=n.current)||void 0===e?void 0:e.getCenter(),o=null===(r=n.current)||void 0===r?void 0:r.getZoom(),a=[null==i?void 0:i.latitude,null==i?void 0:i.longitude];t(a,o)})),clearInterval(s)}}),100)}),[e]),n.current}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateCoordinates={"new-york":[43,-75],washington:[47.5,-121.5],california:[37,-120],"new-mexico":[34,-106],illinois:[40,-89],florida:[27.1,-81.6],"washington-dc":[38.904722,-77.016389],wisconsin:[44.5,-89.5],texas:[31,-100],indiana:[40,-86],minnesota:[46,-94],colorado:[39,-105.5],virginia:[38,-79],pennsylvania:[41,-77.5],"new-jersey":[40,-74.5],nevada:[39,-117],utah:[39,-111]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(31),o=n(4),a=n(32),s=n(52),c=n(56),l=n(7),u=n(59),p=n(5);t.Control=function(){return r.createElement(i.Root,null,r.createElement(i.UpIcon,{src:"/static/chevron-up.svg"}),r.createElement(l.Section,null,r.createElement(i.TagLine,null,"#STOPAAPIHATE"),r.createElement(i.Brand,null,"INDIVISIBLE ",r.createElement(i.BrandSub,null,"by COVID-19")),r.createElement(c.ReportButton,null)),r.createElement(o.Route,{path:"/",exact:!0,component:a.UnitedStates}),r.createElement(o.Route,{path:"/about",exact:!0,component:u.About}),r.createElement(o.Route,{path:"/states/:state",exact:!0,component:s.State}),r.createElement(i.PulledDown,null,r.createElement(i.SiteInfo,null,r.createElement(p.Link,{to:"/"},"Home")," | ",r.createElement(p.Link,{to:"/about"},"About")," |"," ",r.createElement(p.ExternalLink,{href:"https://www.buymeacoffee.com/w0ns0ng",target:"_blank",rel:"noopener noreferrer"},"Buy me a coffee"),r.createElement("br",null),"Made with ❤️by"," ",r.createElement(p.ExternalLink,{href:"https://github.com/wonsong",target:"_blank",rel:"noopener noreferrer"},"Won"))))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s,c,l,u,p,d,f=n(4),h=n(3),g=n(5);t.Root=styled.div(i||(i=r(["\n    background-color: white;\n    width: calc(100% - 32px);\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 12px rgba(0, 0, 0, 0.15);\n    border-radius: 12px;\n    padding: 16px;\n    margin-left: 16px;\n    margin-right: 16px;\n    z-index: 10000;\n    position: absolute;\n    top: 50vh;\n    margin-bottom: 36px;\n\n    @media (min-width: 1200px) {\n        width: 360px;\n        position: fixed;\n        margin: 0;\n        top: 32px;\n        left: 32px;\n        height: calc(100% - 64px);\n    }\n"],["\n    background-color: white;\n    width: calc(100% - 32px);\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 12px rgba(0, 0, 0, 0.15);\n    border-radius: 12px;\n    padding: 16px;\n    margin-left: 16px;\n    margin-right: 16px;\n    z-index: 10000;\n    position: absolute;\n    top: 50vh;\n    margin-bottom: 36px;\n\n    @media (min-width: 1200px) {\n        width: 360px;\n        position: fixed;\n        margin: 0;\n        top: 32px;\n        left: 32px;\n        height: calc(100% - 64px);\n    }\n"]))),t.UpIcon=styled.img(o||(o=r(["\n    display: block;\n    margin: auto;\n    width: 16px;\n    height: 16px;\n    margin-bottom: 16px;\n\n    @media (min-width: 1200px) {\n        display: none;\n    }\n"],["\n    display: block;\n    margin: auto;\n    width: 16px;\n    height: 16px;\n    margin-bottom: 16px;\n\n    @media (min-width: 1200px) {\n        display: none;\n    }\n"]))),t.Brand=styled.div(a||(a=r(["\n    font-size: 28px;\n    letter-spacing: 2px;\n    color: #333;\n    font-weight: 600;\n"],["\n    font-size: 28px;\n    letter-spacing: 2px;\n    color: #333;\n    font-weight: 600;\n"]))),t.BrandSub=styled.div(s||(s=r(["\n    display: inline;\n    color: rgb(153, 50, 204);\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: -0.3px;\n"],["\n    display: inline;\n    color: rgb(153, 50, 204);\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: -0.3px;\n"]))),t.TagLine=styled.div(c||(c=r(["\n    color: #999;\n    font-size: 13px;\n    /* letter-spacing: 14px; */\n    letter-spacing: 2px;\n"],["\n    color: #999;\n    font-size: 13px;\n    /* letter-spacing: 14px; */\n    letter-spacing: 2px;\n"]))),t.PulledDown=styled.div(l||(l=r(["\n    @media (min-width: 1200px) {\n        position: absolute;\n        bottom: 16px;\n        width: calc(100% - 32px);\n    }\n"],["\n    @media (min-width: 1200px) {\n        position: absolute;\n        bottom: 16px;\n        width: calc(100% - 32px);\n    }\n"]))),t.SiteInfo=styled.div(u||(u=r(["\n    font-size: 12px;\n    display: block;\n    text-align: right;\n    line-height: 1.5;\n"],["\n    font-size: 12px;\n    display: block;\n    text-align: right;\n    line-height: 1.5;\n"]))),t.InlineLink=styled(f.Link)(p||(p=r(["\n    font-weight: 600;\n    color: ",";\n    transition: color 0.1s linear;\n    text-decoration: none;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    font-weight: 600;\n    color: ",";\n    transition: color 0.1s linear;\n    text-decoration: none;\n\n    &:hover {\n        color: ",";\n    }\n"])),h.Color.LinkColor,h.Color.LinkColorEvenDarker),t.InlineExternalLink=styled(g.ExternalLink)(d||(d=r(["\n    font-weight: 600;\n    color: ",";\n    text-decoration: none;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    font-weight: 600;\n    color: ",";\n    text-decoration: none;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"])),h.Color.LinkColor,h.Color.LinkColorEvenDarker)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(33))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(34),o=n(8),a=n(7),s=n(9),c=n(6),l=n(14),u=n(43),p=n(10),d=n(15),f=n(11);t.UnitedStates=function(){s.useDarkerBackgroundOnScroll(),f.useTrackPage("Home");var e=r.useContext(c.DataContext),t=e.totalIncidents,n=(e.isLoading,e.incidents);return r.createElement(r.Fragment,null,r.createElement(a.Section,null,r.createElement(o.Heading,null,"United States"),r.createElement(l.MainFigure,null,t)),r.createElement(p.Content,{margin:10},r.createElement(a.Section,null,r.createElement(o.Heading2,null,"Trend"),r.createElement(u.TrendChart,null)),r.createElement(a.Section,null,r.createElement(o.Heading2,null,"Latest incidents"),r.createElement(d.IncidentList,{pageSize:3,incidents:n})),r.createElement(o.Heading2,null,"States"),r.createElement(i.States,null)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(35))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(36),a=n(37),s=n(6);t.States=function(){var e=i.useContext(s.DataContext).stateIncidentCounts;return i.createElement(o.Root,null,e.map((function(e){return i.createElement(a.StateButton,r({},e,{key:e.name}))})))}},function(e,t,n){"use strict";var r,i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Root=styled.div(r||(r=i(["\n    padding-left: 12px;\n    padding-right: 12px;\n"],["\n    padding-left: 12px;\n    padding-right: 12px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(38))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(39),a=n(13);t.StateButton=function(e){var t=e.name,n=e.count,s=i.useHistory().push;return r.createElement(o.Root,{onClick:function(){s("/states/"+a.slugify(t))}},r.createElement(o.Text,null,t),r.createElement(o.Count,null,n))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s=n(3);t.Root=styled.button(i||(i=r(["\n    display: block;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 10px 6px 10px 12px;\n    border-radius: 3px;\n    font-size: 14px;\n    line-height: 15px;\n    margin-bottom: 8px;\n    color: #555;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: #f2f2f2;\n    transition: box-shadow 0.1s linear, color 0.1s linear;\n\n    &:hover {\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n\n    &:after {\n        clear: both;\n    }\n"],["\n    display: block;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 10px 6px 10px 12px;\n    border-radius: 3px;\n    font-size: 14px;\n    line-height: 15px;\n    margin-bottom: 8px;\n    color: #555;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: #f2f2f2;\n    transition: box-shadow 0.1s linear, color 0.1s linear;\n\n    &:hover {\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n\n    &:after {\n        clear: both;\n    }\n"]))),t.Text=styled.div(o||(o=r(["\n    float: left;\n    font-weight: 600;\n    color: ",";\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    float: left;\n    font-weight: 600;\n    color: ",";\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"])),s.Color.LinkColor,s.Color.LinkColorEvenDarker),t.Count=styled.div(a||(a=r(["\n    float: right;\n    margin-left: 12px;\n    margin-right: 6px;\n    font-size: 14px;\n"],["\n    float: right;\n    margin-left: 12px;\n    margin-right: 6px;\n    font-size: 14px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(42);t.MainFigure=function(e){var t=e.children;return r.createElement(i.Root,null,r.createElement(i.MainFigure,null,t),r.createElement(i.Description,null,"Reported hate crimes"," ",r.createElement(i.AdditionalDescription,{to:"/about"},"(?)")))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s,c=n(3),l=n(5);t.Root=styled.div(i||(i=r(["\n    margin-bottom: 24px;\n    padding: 0 12px;\n"],["\n    margin-bottom: 24px;\n    padding: 0 12px;\n"]))),t.MainFigure=styled.div(o||(o=r(["\n    font-size: 42px;\n    line-height: 46px;\n    color: ",";\n"],["\n    font-size: 42px;\n    line-height: 46px;\n    color: ",";\n"])),c.Color.PrimaryColor),t.Description=styled.div(a||(a=r(["\n    font-size: 12px;\n    color: #666;\n    font-weight: 600;\n"],["\n    font-size: 12px;\n    color: #666;\n    font-weight: 600;\n"]))),t.AdditionalDescription=styled(l.Link)(s||(s=r(["\n    font-size: 12px;\n"],["\n    font-size: 12px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(44))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(45),o=n(46),a=n(6),s=n(3),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];t.TrendChart=function(){var e=r.useRef(null),t=r.useContext(a.DataContext),n=t.incidentCountByMonth,l=(t.isLoading,(new Date).getMonth());return r.useEffect((function(){e.current&&requestAnimationFrame((function(){var t=[];for(var r in n)t.push(n[r]);var o=e.current.getContext("2d");new i(o,{type:"line",data:{labels:c.slice(0,l),datasets:[{label:"",data:t,backgroundColor:"transparent",borderColor:s.Color.PrimaryColor,borderWidth:1,pointBackgroundColor:s.Color.PrimaryColor}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1}}})}))}),[n]),r.createElement(o.Root,null,r.createElement("canvas",{ref:e}))}},function(e,t){e.exports=Chart},function(e,t,n){"use strict";var r,i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Root=styled.div(r||(r=i(["\n    padding: 0 12px;\n"],["\n    padding: 0 12px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(48),a=n(7),s=n(49);t.IncidentList=function(e){var t=e.pageSize,n=e.incidents,c=i.useState(t),l=c[0],u=c[1],p=n.length<=l?r(n):n.slice(0,l);return i.createElement(a.SectionContent,null,p.map((function(e,t){return i.createElement(s.Incident,{key:t,incident:e})})),l<n.length&&i.createElement(o.LoadMoreButton,{onClick:function(){u((function(e){return e+t}))}},"Load more"))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3);t.LoadMoreButton=styled.button(i||(i=r(["\n    width: 150px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 8px 16px;\n    cursor: pointer;\n    color: ",";\n    font-size: 14px;\n    font-weight: 600;\n    background-color: white;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n    margin-top: 18px;\n    transition: color 0.1s linear, box-shadow 0.1s linear;\n\n    &:hover {\n        color: ",";\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n"],["\n    width: 150px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 8px 16px;\n    cursor: pointer;\n    color: ",";\n    font-size: 14px;\n    font-weight: 600;\n    background-color: white;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n    margin-top: 18px;\n    transition: color 0.1s linear, box-shadow 0.1s linear;\n\n    &:hover {\n        color: ",";\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n"])),o.Color.LinkColor,o.Color.LinkColorEvenDarker)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(50))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(51);t.Incident=function(e){var t=e.incident;return r.createElement(i.Root,{href:t.link,target:"_blank"},r.createElement(i.Info,null,t.date," | ",t.cityName),r.createElement(i.Title,null,t.image&&r.createElement(i.Image,{src:t.image}),t.title),r.createElement(i.SourceRoot,null,"Source:"," ",r.createElement(i.Source,{href:t.link,target:"_blank"},t.source)))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s,c,l,u=n(3);t.Root=styled.a(i||(i=r(["\n    display: block;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 16px 12px;\n    border-radius: 3px;\n    font-size: 13px;\n    margin-bottom: 12px;\n    color: #555;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: #f2f2f2;\n    transition: box-shadow 0.1s linear, color 0.1s linear;\n\n    &:hover {\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n"],["\n    display: block;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 16px 12px;\n    border-radius: 3px;\n    font-size: 13px;\n    margin-bottom: 12px;\n    color: #555;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: #f2f2f2;\n    transition: box-shadow 0.1s linear, color 0.1s linear;\n\n    &:hover {\n        box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    }\n"]))),t.Image=styled.img(o||(o=r(["\n    width: 50px;\n    height: 50px;\n    float: left;\n    margin-right: 10px;\n    border-radius: 5px;\n"],["\n    width: 50px;\n    height: 50px;\n    float: left;\n    margin-right: 10px;\n    border-radius: 5px;\n"]))),t.Title=styled.div(a||(a=r(["\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 12px;\n    min-height: 50px;\n\n    &:after {\n        clear: both;\n    }\n"],["\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 12px;\n    min-height: 50px;\n\n    &:after {\n        clear: both;\n    }\n"]))),t.Info=styled.div(s||(s=r(["\n    font-size: 12px;\n    color: #777;\n    margin-bottom: 12px;\n"],["\n    font-size: 12px;\n    color: #777;\n    margin-bottom: 12px;\n"]))),t.SourceRoot=styled.div(c||(c=r(["\n    font-size: 13px;\n    color: #777;\n    font-weight: 600;\n"],["\n    font-size: 13px;\n    color: #777;\n    font-weight: 600;\n"]))),t.Source=styled.a(l||(l=r(["\n    color: ",";\n    cursor: pointer;\n    text-decoration: none;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    color: ",";\n    cursor: pointer;\n    text-decoration: none;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"])),u.Color.LinkColor,u.Color.LinkColorEvenDarker)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(53))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(8),a=n(6),s=n(9),c=n(7),l=n(14),u=n(10),p=n(15),d=n(17),f=n(11);t.State=function(){s.useDarkerBackgroundOnScroll(),f.useTrackPage("State");var e=i.useHistory().replace,t=i.useParams().state,n=r.useContext(a.DataContext).incidentsByState;if(!t)return e("/"),null;var h=n[t];return h?r.createElement(r.Fragment,null,r.createElement(d.BackButton,null),r.createElement(c.Section,null,r.createElement(o.Heading,null,h.stateName),r.createElement(l.MainFigure,null,h.incidents.length)),r.createElement(u.Content,{margin:40},r.createElement(o.Heading2,null,"Incidents"),r.createElement(p.IncidentList,{pageSize:5,incidents:h.incidents}))):(e("/"),null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(55);t.BackButton=function(){return r.createElement(i.Root,{to:"/"},"Back to Home")}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5);t.Root=styled(a.Link)(i||(i=r(["\n    display: block;\n    font-size: 14px;\n    margin-bottom: 24px;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    display: block;\n    font-size: 14px;\n    margin-bottom: 24px;\n    transition: color 0.1s linear;\n\n    &:hover {\n        color: ",";\n    }\n"])),o.Color.LinkColorEvenDarker)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(58);t.ReportButton=function(){return r.createElement(i.Root,{href:"http://www.asianpacificpolicyandplanningcouncil.org/stop-aapi-hate"},"Report hate crime")}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3);t.Root=styled.a(i||(i=r(["\n    display: block;\n    text-align: center;\n    margin-top: 24px;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 16px 12px;\n    border-radius: 8px;\n    font-size: 14px;\n    font-weight: 600;\n    color: white;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: ",";\n    box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    transition: background-color 0.1s linear;\n\n    &:hover {\n        background-color: ",";\n    }\n"],["\n    display: block;\n    text-align: center;\n    margin-top: 24px;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n    padding: 16px 12px;\n    border-radius: 8px;\n    font-size: 14px;\n    font-weight: 600;\n    color: white;\n    cursor: pointer;\n    text-decoration: none;\n    background-color: ",";\n    box-shadow: 0 1px 1px 0 rgba(60, 64, 67, 0.08), 0 1px 3px 1px rgba(60, 64, 67, 0.16);\n    transition: background-color 0.1s linear;\n\n    &:hover {\n        background-color: ",";\n    }\n"])),o.Color.PrimaryColor,o.Color.PrimaryColorLighter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(60))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),o=n(17),a=n(10),s=n(8),c=n(7),l=n(5),u=n(11);t.About=function(){return i.useDarkerBackgroundOnScroll(),u.useTrackPage("About"),r.createElement(r.Fragment,null,r.createElement(o.BackButton,null),r.createElement(a.Content,{margin:-100},r.createElement(c.Section,null,r.createElement(s.Heading,null,"About"),r.createElement(c.SectionContent,null,"This site was created to raise awareness of rapidly-increasing hate crimes against Asian Americans.",r.createElement("br",null),r.createElement("br",null),"The data shown on this site are manually collected by searching the web, which means this site only tracks hate crimes reported on media.",r.createElement("br",null),r.createElement("br",null),r.createElement(l.ExternalLink,{href:"http://www.asianpacificpolicyandplanningcouncil.org/stop-aapi-hate/",target:"_blank"},"A3PCON")," ","states that there are more than 100 new hate crimes happening a day. You can learn more about them"," ",r.createElement(l.ExternalLink,{href:"http://www.asianpacificpolicyandplanningcouncil.org/stop-aapi-hate/",target:"_blank"},"here"),".")),r.createElement(c.Section,null,r.createElement(s.Heading2,null,"Support"),r.createElement(c.SectionContent,null,"Please forward your sources to"," ",r.createElement(l.ExternalLink,{href:"mailto:hello@wonsong.me"},"hello@wonsong.me")," ","if I've missed anything!",r.createElement("br",null),r.createElement("br",null),"A cup of coffee will make maintaining the site, and collecting sources more enjoyable!",r.createElement("br",null),r.createElement("br",null),r.createElement("div",{dangerouslySetInnerHTML:{__html:'\n                                <style>.bmc-button img{height: 34px !important;width: 35px !important;margin-bottom: 1px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{padding: 7px 10px 7px 10px !important;line-height: 35px !important;height:51px !important;min-width:217px !important;text-decoration: none !important;display:inline-flex !important;color:#000000 !important;background-color:#FFFFFF !important;border-radius: 5px !important;border: 1px solid transparent !important;padding: 7px 10px 7px 10px !important;font-size: 22px !important;letter-spacing: 0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:\'Cookie\', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#000000 !important;}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/w0ns0ng"><img src="https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:15px;font-size:28px !important;">Buy me a coffee</span></a>\n                           '}})))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(62))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(6),a=n(13);function s(e){var t={};return e.forEach((function(e){var n=new Date(e.date).getMonth();t[n]=t[n]||0,t[n]++})),t}function c(e){var t=[],n={},i=[],o=function(o){var s=0,c=a.slugify(o),l=e[o];n[c]={stateName:o,incidents:[]};var u=function(e){var t=l[e];s+=t.incidents.length,t.incidents.forEach((function(o){var a=r(r({},o),{cityName:e,cityCoordinate:t.coordinate});n[c].incidents.push(a),i.push(a)}))};for(var p in l)u(p);t.push({name:o,count:s,newCount:0}),n[c].incidents.sort((function(e,t){return new Date(e.date)>new Date(t.date)?-1:1}))};for(var c in e)o(c);return t.sort((function(e,t){return e.count>t.count?-1:1})),i.sort((function(e,t){return new Date(e.date)>new Date(t.date)?-1:1})),{isLoading:!1,totalIncidents:i.length,incidents:i,stateIncidentCounts:t,incidentCountByMonth:s(i),incidentsByState:n}}t.DataProvider=function(e){var t=e.children,n=i.useState({isLoading:!0,totalIncidents:0,incidents:[],stateIncidentCounts:[],incidentCountByMonth:{},incidentsByState:{}}),r=n[0],a=n[1];return i.useEffect((function(){fetch("/data.json").then((function(e){if(!e.ok)throw new Error("Failed to fetch data");return e.json()})).then(c).then(a)}),[]),i.createElement(o.DataContext.Provider,{value:r},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(65),o=n(16);t.TelemetryProvider=function(e){var t=e.children,n=r.useState(),a=n[0],s=n[1];return r.useEffect((function(){var e=new i.ApplicationInsights({config:{instrumentationKey:"c2bb408a-97c8-4594-96f5-ee9525018852"}});e.loadAppInsights(),s(e)}),[]),r.createElement(o.TelemetryContext.Provider,{value:a},t)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationInsights",(function(){return $t})),n.d(t,"Telemetry",(function(){return Zt})),n.d(t,"ApplicationInsightsContainer",(function(){return tn})),n.d(t,"AppInsightsCore",(function(){return G})),n.d(t,"LoggingSeverity",(function(){return m})),n.d(t,"_InternalMessageId",(function(){return b})),n.d(t,"Util",(function(){return Z})),n.d(t,"SeverityLevel",(function(){return we})),n.d(t,"Event",(function(){return he})),n.d(t,"Exception",(function(){return ve})),n.d(t,"Metric",(function(){return _e})),n.d(t,"PageView",(function(){return Se})),n.d(t,"PageViewPerformance",(function(){return ke})),n.d(t,"RemoteDependencyData",(function(){return Ce})),n.d(t,"Trace",(function(){return Ee})),n.d(t,"DistributedTracingModes",(function(){return U})),n.d(t,"Sender",(function(){return xt})),n.d(t,"ApplicationAnalytics",(function(){return tt})),n.d(t,"PropertiesPlugin",(function(){return Dt})),n.d(t,"DependenciesPlugin",(function(){return Qt}));var r={};n.r(r),n.d(r,"Util",(function(){return Z})),n.d(r,"CorrelationIdHelper",(function(){return ee})),n.d(r,"UrlHelper",(function(){return $})),n.d(r,"DateTimeUtils",(function(){return ne})),n.d(r,"ConnectionStringParser",(function(){return ce})),n.d(r,"FieldType",(function(){return j})),n.d(r,"RequestHeaders",(function(){return W})),n.d(r,"DisabledPropertyName",(function(){return re})),n.d(r,"ProcessLegacy",(function(){return oe})),n.d(r,"SampleRate",(function(){return ie})),n.d(r,"HttpMethod",(function(){return ae})),n.d(r,"DEFAULT_BREEZE_ENDPOINT",(function(){return se})),n.d(r,"AIData",(function(){return ue})),n.d(r,"AIBase",(function(){return le})),n.d(r,"Envelope",(function(){return pe})),n.d(r,"Event",(function(){return he})),n.d(r,"Exception",(function(){return ve})),n.d(r,"Metric",(function(){return _e})),n.d(r,"PageView",(function(){return Se})),n.d(r,"PageViewData",(function(){return Te})),n.d(r,"RemoteDependencyData",(function(){return Ce})),n.d(r,"Trace",(function(){return Ee})),n.d(r,"PageViewPerformance",(function(){return ke})),n.d(r,"Data",(function(){return De})),n.d(r,"SeverityLevel",(function(){return we})),n.d(r,"ConfigurationManager",(function(){return Pe})),n.d(r,"ContextTagKeys",(function(){return Ne})),n.d(r,"DataSanitizer",(function(){return K})),n.d(r,"TelemetryItemCreator",(function(){return Ae})),n.d(r,"CtxTagKeys",(function(){return Oe})),n.d(r,"Extensions",(function(){return Me})),n.d(r,"DistributedTracingModes",(function(){return U})),n.d(r,"PropertiesPluginIdentifier",(function(){return Le})),n.d(r,"BreezeChannelIdentifier",(function(){return Re})),n.d(r,"AnalyticsPluginIdentifier",(function(){return je}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var s=n(2);s.p;function c(e,t){return typeof e===t}function l(e){return c(e,s.p)||void 0===e}function u(e){return l(e)||null===e}function p(e,t){return e&&Object[s.o].hasOwnProperty.call(e,t)}function d(e){return c(e,s.n)}function f(e){return c(e,s.m)}function h(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!u(e))try{u(e.addEventListener)?u(e.attachEvent)||(e.attachEvent("on"+t,n),i=!0):(e.addEventListener(t,n,r),i=!0)}catch(e){}return i}function g(e,t,n,r){if(void 0===r&&(r=!1),!u(e))try{u(e.removeEventListener)?u(e.detachEvent)||e.detachEvent("on"+t,n):e.removeEventListener(t,n,r)}catch(e){}}var m,v=function(){function e(){}return e.isDate=function(e){return"[object Date]"===Object[s.o].toString.call(e)},e.isString=function(e){return c(e,"string")},e.isNumber=function(e){return c(e,"number")},e.isBoolean=function(e){return c(e,"boolean")},e.disableCookies=function(){e._canUseCookies=!1},e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(y,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.toISOString=function(t){if(e.isDate(t)){var n=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},e.arrForEach=function(e,t,n){for(var r=e.length,i=0;i<r;++i)i in e&&t.call(n||e,e[i],i,e)},e.arrIndexOf=function(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1},e.arrMap=function(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e));return o},e.arrReduce=function(e,t,n){var r,i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++;return r},e.objCreate=function(e){if(null==e)return{};if(!d(e)&&!f(e))throw new TypeError("Object prototype may only be an Object: "+e);function t(){}return t[s.o]=e,new t},e.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(f(e)||d(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n=[];for(var r in e)p(e,r)&&n.push(r);if(t)for(var i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length,a=0;a<o;a++)p(e,i[a])&&n.push(i[a]);return n},e.objDefineAccessors=function(e,t,n,r){var i=Object.defineProperty;if(i)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),r&&(o.set=r),i(e,t,o),!0}catch(e){}return!1},e.addEventHandler=function(e,t){var n=!1,r=Object(s.i)();r&&(n=h(r,e,t),n=h(r.body,e,t)||n);var i=Object(s.a)();return i&&(n=x.Attach(i,e,t)||n),n},e.isTypeof=c,e.isUndefined=l,e.isNullOrUndefined=u,e.hasOwnProperty=p,e.isFunction=f,e.isObject=d,e}(),y=/[xy]/g,x=function(){function e(){}return e.Attach=h,e.AttachEvent=h,e.Detach=g,e.DetachEvent=g,e}();!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(m||(m={}));var b={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73},w=function(){function e(t,n,r,i){void 0===r&&(r=!1),this.messageId=t,this.message=(r?e.AiUserActionablePrefix:e.AiNonUserActionablePrefix)+t;var o="";Object(s.k)()&&(o=Object(s.e)().stringify(i));var a=(n?" message:"+e.sanitizeDiagnosticText(n):"")+(i?" props:"+e.sanitizeDiagnosticText(o):"");this.message+=a}return e.sanitizeDiagnosticText=function(e){return e?'"'+e.replace(/\"/g,"")+'"':""},e.dataType="MessageData",e.AiNonUserActionablePrefix="AI (Internal): ",e.AiUserActionablePrefix="AI: ",e}(),I=function(){function e(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},v.isNullOrUndefined(e)||(v.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),v.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),v.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),v.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}return e.prototype.throwInternal=function(e,t,n,r,i){void 0===i&&(i=!1);var o=new w(t,n,i,r);if(this.enableDebugExceptions())throw o;if(!v.isUndefined(o)&&o&&!v.isUndefined(o.message)){if(i){var a=+o.messageId;!this._messageLogged[a]&&this.consoleLoggingLevel()>=m.WARNING&&(this.warnToConsole(o.message),this._messageLogged[a]=!0)}else this.consoleLoggingLevel()>=m.WARNING&&this.warnToConsole(o.message);this.logInternalMessage(e,o)}},e.prototype.warnToConsole=function(e){!v.isUndefined(console)&&console&&(v.isFunction(console.warn)?console.warn(e):v.isFunction(console.log)&&console.log(e))},e.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},e.prototype.logInternalMessage=function(e,t){if(!this._areInternalMessagesThrottled()){var n=!0,r=this.AIInternalMessagePrefix+t.messageId;if(this._messageLogged[r]?n=!1:this._messageLogged[r]=!0,n&&(e<=this.telemetryLoggingLevel()&&(this.queue.push(t),this._messageCount++),this._messageCount===this.maxInternalMessageLimit())){var i="Internal events throttle limit per PageView reached for this app.",o=new w(b.MessageLimitPerPVExceeded,i,!1);this.queue.push(o),this.warnToConsole(i)}}},e.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},e}(),_=v.isFunction,T=function(e,t){var n=this,r=null,i=_(e.processTelemetry),o=_(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(a,s){if(s||(s=t),e&&i){n._hasRun=!0;try{s.setNext(r),o&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(a,s)}catch(t){var c=r&&r._hasRun;r&&c||s.diagLog().throwInternal(m.CRITICAL,b.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+t),r&&!c&&r.processTelemetry(a,s)}}else r&&(n._hasRun=!0,r.processTelemetry(a,s))}},S=v.isNullOrUndefined;function C(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&v.isFunction(o.processTelemetry)){var a=new T(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}var E=function e(t,n,r,i){var o=this,a=null;null!==i&&(t&&v.isFunction(t.getPlugin)?a=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),C(r,t)}(t,o,i||t.getPlugin()):i?a=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],v.arrForEach(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),C(r,t)}(t,o,i):v.isUndefined(i)&&(a=C(t,o))),o.core=function(){return r},o.diagLog=function(){var e=(r||{}).logger;return e||(e=new I(n||{})),e},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var a=o.getExtCfg(e,null);return a&&!S(a[t])?i=a[t]:n&&!S(n[t])&&(i=n[t]),S(i)?r:i},o.hasNext=function(){return null!=a},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||a,n,r,i)}},k=v.isFunction,D=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&k(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new E(null,{},e.core);i=r&&r.getPlugin?o.createNew(null,r.getPlugin):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,a,s){i&&(i.extensionConfig=i.extensionConfig||[]),!s&&o&&(s=o.getProcessTelContext().getNext());var c=r;r&&r.getPlugin&&(c=r.getPlugin()),e.core=o,n=new E(s,i,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}(),P=v.isFunction;function N(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&P(r.setNextPlugin)&&P(o.processTelemetry)&&r.setNextPlugin(o),P(o.isInitialized)&&o.isInitialized()||n.push(o),r=o,i=i.getNext())}v.arrForEach(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function A(e){return e.sort((function(e,t){var n=0,r=P(t.processTelemetry);return P(e.processTelemetry)?n=r?e.priority-t.priority:1:r&&(n=-1),n}))}var M=v.arrForEach,O=v.objDefineAccessors;function L(e,t){t&&t.length>0&&(function(e){M(e,(function(e){if(e.priority<500)throw Error("Channel has invalid priority"+e.identifier)}))}(t=t.sort((function(e,t){return e.priority-t.priority}))),e.push(t))}var R,j,U,F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.identifier="ChannelControllerPlugin",t.priority=500,t}return o(t,e),t.prototype.processTelemetry=function(e,t){var n=this;this._channelQueue&&M(this._channelQueue,(function(r){r.length>0&&n._getTelCtx(t).createNew(r).processNext(e)}))},t.prototype.getChannelControls=function(){return this._channelQueue},t.prototype.initialize=function(t,n,r){if(!this.isInitialized()){e.prototype.initialize.call(this,t,n,r),t.isCookieUseDisabled&&v.disableCookies();var i=this._channelQueue=function(e,t){var n=[];if(e&&M(e,(function(e){return L(n,e)})),t){var r=[];M(t,(function(e){e.priority>500&&r.push(e)})),L(n,r)}return n}((t||{}).channels,r);M(i,(function(e){return N(new E(e,t,n),r)}))}},t._staticInit=(O(t.prototype,"ChannelControls",t.prototype.getChannelControls),void O(t.prototype,"channelQueue",t.prototype.getChannelControls)),t}(D),z=v.arrForEach,B=v.isNullOrUndefined,q=function(){function e(){var e=!1;this._extensions=new Array,this._channelController=new F,this.isInitialized=function(){return e},this._setInit=function(t){e=t},this._eventQueue=[]}return e.prototype.initialize=function(e,t,n,r){if(this.isInitialized())throw Error("Core should not be initialized more than once");if(!e||B(e.instrumentationKey))throw Error("Please provide instrumentation key");this.config=e;var i=this._channelController;r||(r=v.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){}})),this._notificationManager=r,e.extensions=B(e.extensions)?[]:e.extensions,(e.extensionConfig=B(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=r,n||(n=v.objCreate({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),this.logger=n;var o=[];o.push.apply(o,t.concat(e.extensions)),o=A(o);var a=[],s=[],c={};if(z(o,(function(e){if(B(e)||B(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(B(c[t])?c[t]=r:n.warnToConsole("Two extensions have same priority #"+t+" - "+c[t]+", "+r)),!t||t<i.priority?a.push(e):s.push(e)})),o.push(i),a.push(i),o=A(o),this._extensions=o,N(new E([i],e,this),o),N(new E(a,e,this),o),this._extensions=a,0===this.getTransmissionControls().length)throw new Error("No channels available");this._setInit(!0)},e.prototype.getTransmissionControls=function(){return this._channelController.getChannelControls()},e.prototype.track=function(e){var t=this;e.iKey||(e.iKey=t.config.instrumentationKey),e.time||(e.time=v.toISOString(new Date)),B(e.ver)&&(e.ver="4.0"),t.isInitialized()?(t._eventQueue.length>0&&(z(t._eventQueue,(function(e){t.getProcessTelContext().processNext(e)})),t._eventQueue=[]),t.getProcessTelContext().processNext(e)):t._eventQueue.push(e)},e.prototype.getProcessTelContext=function(){var e=this._extensions,t=e;return e&&0!==e.length||(t=[this._channelController]),new E(t,this.config,this)},e}(),H=2,V=function(){function e(){this.listeners=[]}return e.prototype.addNotificationListener=function(e){this.listeners.push(e)},e.prototype.removeNotificationListener=function(e){for(var t=v.arrIndexOf(this.listeners,e);t>-1;)this.listeners.splice(t,1),t=v.arrIndexOf(this.listeners,e)},e.prototype.eventsSent=function(e){for(var t=this,n=function(n){r.listeners[n].eventsSent&&setTimeout((function(){return t.listeners[n].eventsSent(e)}),0)},r=this,i=0;i<this.listeners.length;++i)n(i)},e.prototype.eventsDiscarded=function(e,t){for(var n=this,r=function(r){i.listeners[r].eventsDiscarded&&setTimeout((function(){return n.listeners[r].eventsDiscarded(e,t)}),0)},i=this,o=0;o<this.listeners.length;++o)r(o)},e}(),G=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.initialize=function(t,n){this._notificationManager=new V,this.logger=new I(t),this.config=t,e.prototype.initialize.call(this,t,n,this.logger,this._notificationManager)},t.prototype.getTransmissionControls=function(){return e.prototype.getTransmissionControls.call(this)},t.prototype.track=function(t){if(null===t)throw this._notifyInvalidEvent(t),Error("Invalid telemetry item");this._validateTelemetryItem(t),e.prototype.track.call(this,t)},t.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},t.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},t.prototype.pollInternalLogs=function(e){var t=this,n=this.config.diagnosticLogInterval;return n&&n>0||(n=1e4),setInterval((function(){var n=t,r=n.logger?n.logger.queue:[];v.arrForEach(r,(function(t){var r={name:e||"InternalMessageId: "+t.messageId,iKey:n.config.instrumentationKey,time:v.toISOString(new Date),baseType:w.dataType,baseData:{message:t.message}};n.track(r)})),r.length=0}),n)},t.prototype._validateTelemetryItem=function(e){if(v.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},t.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],H)},t}(q);!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(R||(R={})),function(e){e[e.Default=0]="Default",e[e.Required=1]="Required",e[e.Array=2]="Array",e[e.Hidden=4]="Hidden"}(j||(j={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(U||(U={}));var W=function(){function e(){}return e.requestContextHeader="Request-Context",e.requestContextTargetKey="appId",e.requestContextAppIdFormat="appId=cid-v1:",e.requestIdHeader="Request-Id",e.traceParentHeader="traceparent",e.sdkContextHeader="Sdk-Context",e.sdkContextHeaderAppIdRequest="appId",e.requestContextHeaderLowerCase="request-context",e}(),K=function(){function e(){}return e.sanitizeKeyAndAddUniqueness=function(t,n,r){var i=n.length,o=e.sanitizeKey(t,n);if(o.length!==i){for(var a=0,s=o;void 0!==r[s];)a++,s=o.substring(0,e.MAX_NAME_LENGTH-3)+e.padNumber(a);o=s}return o},e.sanitizeKey=function(t,n){var r;return n&&(n=e.trim(n.toString())).length>e.MAX_NAME_LENGTH&&(r=n.substring(0,e.MAX_NAME_LENGTH),t.throwInternal(m.WARNING,b.NameTooLong,"name is too long.  It has been truncated to "+e.MAX_NAME_LENGTH+" characters.",{name:n},!0)),r||n},e.sanitizeString=function(t,n,r){var i;return void 0===r&&(r=e.MAX_STRING_LENGTH),n&&(r=r||e.MAX_STRING_LENGTH,(n=e.trim(n)).toString().length>r&&(i=n.toString().substring(0,r),t.throwInternal(m.WARNING,b.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:n},!0))),i||n},e.sanitizeUrl=function(t,n){return e.sanitizeInput(t,n,e.MAX_URL_LENGTH,b.UrlTooLong)},e.sanitizeMessage=function(t,n){var r;return n&&n.length>e.MAX_MESSAGE_LENGTH&&(r=n.substring(0,e.MAX_MESSAGE_LENGTH),t.throwInternal(m.WARNING,b.MessageTruncated,"message is too long, it has been truncated to "+e.MAX_MESSAGE_LENGTH+" characters.",{message:n},!0)),r||n},e.sanitizeException=function(t,n){var r;return n&&n.length>e.MAX_EXCEPTION_LENGTH&&(r=n.substring(0,e.MAX_EXCEPTION_LENGTH),t.throwInternal(m.WARNING,b.ExceptionTruncated,"exception is too long, it has been truncated to "+e.MAX_EXCEPTION_LENGTH+" characters.",{exception:n},!0)),r||n},e.sanitizeProperties=function(t,n){if(n){var r={};for(var i in n){var o=n[i];if(v.isObject(o)&&Object(s.k)())try{o=Object(s.e)().stringify(o)}catch(e){t.throwInternal(m.WARNING,b.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:e},!0)}o=e.sanitizeString(t,o,e.MAX_PROPERTY_LENGTH),r[i=e.sanitizeKeyAndAddUniqueness(t,i,r)]=o}n=r}return n},e.sanitizeMeasurements=function(t,n){if(n){var r={};for(var i in n){var o=n[i];r[i=e.sanitizeKeyAndAddUniqueness(t,i,r)]=o}n=r}return n},e.sanitizeId=function(t,n){return n?e.sanitizeInput(t,n,e.MAX_ID_LENGTH,b.IdTooLong).toString():n},e.sanitizeInput=function(t,n,r,i){var o;return n&&(n=e.trim(n)).length>r&&(o=n.substring(0,r),t.throwInternal(m.WARNING,i,"input is too long, it has been truncated to "+r+" characters.",{data:n},!0)),o||n},e.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},e.trim=function(e){return v.isString(e)?e.replace(/^\s+|\s+$/g,""):e},e.MAX_NAME_LENGTH=150,e.MAX_ID_LENGTH=128,e.MAX_PROPERTY_LENGTH=8192,e.MAX_STRING_LENGTH=1024,e.MAX_URL_LENGTH=2048,e.MAX_MESSAGE_LENGTH=32768,e.MAX_EXCEPTION_LENGTH=32768,e}(),X=Object(s.g)(),Y=v.isString,J=null;var Q,Z=function(){function e(){}return e.createDomEvent=function(e){var t=null;if(v.isFunction(Event))t=new Event(e);else{var n=Object(s.a)();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t},e.disableStorage=function(){e._canUseLocalStorage=!1,e._canUseSessionStorage=!1},e._getLocalStorageObject=function(){return e.canUseLocalStorage()?e._getVerifiedStorageObject(R.LocalStorage):null},e._getVerifiedStorageObject=function(e){var t,n,r=null;try{if(v.isNullOrUndefined(Object(s.b)()))return null;n=new Date,(r=e===R.LocalStorage?Object(s.c)("localStorage"):Object(s.c)("sessionStorage")).setItem(n.toString(),n.toString()),t=r.getItem(n.toString())!==n.toString(),r.removeItem(n.toString()),t&&(r=null)}catch(e){r=null}return r},e.isInternalApplicationInsightsEndpoint=function(t){return-1!==e._internalEndpoints.indexOf(t.toLowerCase())},e.canUseLocalStorage=function(){return void 0===e._canUseLocalStorage&&(e._canUseLocalStorage=!!e._getVerifiedStorageObject(R.LocalStorage)),e._canUseLocalStorage},e.getStorage=function(t,n){var r=e._getLocalStorageObject();if(null!==r)try{return r.getItem(n)}catch(n){e._canUseLocalStorage=!1,t.throwInternal(m.WARNING,b.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return null},e.setStorage=function(t,n,r){var i=e._getLocalStorageObject();if(null!==i)try{return i.setItem(n,r),!0}catch(n){e._canUseLocalStorage=!1,t.throwInternal(m.WARNING,b.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.removeStorage=function(t,n){var r=e._getLocalStorageObject();if(null!==r)try{return r.removeItem(n),!0}catch(n){e._canUseLocalStorage=!1,t.throwInternal(m.WARNING,b.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e._getSessionStorageObject=function(){return e.canUseSessionStorage()?e._getVerifiedStorageObject(R.SessionStorage):null},e.canUseSessionStorage=function(){return void 0===e._canUseSessionStorage&&(e._canUseSessionStorage=!!e._getVerifiedStorageObject(R.SessionStorage)),e._canUseSessionStorage},e.getSessionStorageKeys=function(){var t=[];if(e.canUseSessionStorage())for(var n in Object(s.c)("sessionStorage"))t.push(n);return t},e.getSessionStorage=function(t,n){var r=e._getSessionStorageObject();if(null!==r)try{return r.getItem(n)}catch(n){e._canUseSessionStorage=!1,t.throwInternal(m.WARNING,b.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return null},e.setSessionStorage=function(t,n,r){var i=e._getSessionStorageObject();if(null!==i)try{return i.setItem(n,r),!0}catch(n){e._canUseSessionStorage=!1,t.throwInternal(m.WARNING,b.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.removeSessionStorage=function(t,n){var r=e._getSessionStorageObject();if(null!==r)try{return r.removeItem(n),!0}catch(n){e._canUseSessionStorage=!1,t.throwInternal(m.WARNING,b.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.disableCookies=function(){v.disableCookies()},e.canUseCookies=function(t){if(void 0===v._canUseCookies){v._canUseCookies=!1;try{v._canUseCookies=void 0!==e.document.cookie}catch(n){t.throwInternal(m.WARNING,b.CannotAccessCookie,"Cannot access document.cookie - "+e.getExceptionName(n),{exception:e.dump(n)})}}return v._canUseCookies},e.disallowsSameSiteNone=function(e){return!!Y(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&(n="AppleWebKit/605.1.15 (KHTML, like Gecko)",r=(t=e).length,i=r-n.length,t.substring(i>=0?i:0,r)===n)||(-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||(-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||(-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11")))))));var t,n,r,i},e.setCookie=function(t,n,r,i){if(e.canUseCookies(t)){var o="",a="";i&&(o=";domain="+i);var c=Object(s.f)();c&&"https:"===c.protocol&&(a=";secure",null===J&&(J=e.disallowsSameSiteNone((Object(s.g)()||{}).userAgent)),J||(r+=";SameSite=None")),e.document.cookie=n+"="+r+o+";path=/"+a}},e.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()},e.getCookie=function(t,n){if(e.canUseCookies(t)){var r="";if(n&&n.length)for(var i=n+"=",o=e.document.cookie.split(";"),a=0;a<o.length;a++){var s=o[a];if((s=e.trim(s))&&0===s.indexOf(i)){r=s.substring(i.length,o[a].length);break}}return r}},e.deleteCookie=function(t,n){e.canUseCookies(t)&&(e.document.cookie=n+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},e.trim=function(e){return Y(e)?e.replace(/^\s+|\s+$/g,""):e},e.newId=function(){for(var e="",t=1073741824*Math.random();t>0;){e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64)}return e},e.random32=function(){return 4294967296*Math.random()|0},e.generateW3CId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.isArray=function(e){return"[object Array]"===Object[s.o].toString.call(e)},e.isError=function(e){return"[object Error]"===Object[s.o].toString.call(e)},e.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():X?(X.userAgent||"").toLowerCase():"";return-1!==t.indexOf("msie")?parseInt(t.split("msie")[1]):null},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t},e.isCrossOriginError=function(e,t,n,r,i){return("Script error."===e||"Script error"===e)&&!i},e.dump=function(e){var t=Object[s.o].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Object(s.k)()&&(n=Object(s.e)().stringify(e)),t+n},e.getExceptionName=function(e){return"[object Error]"===Object[s.o].toString.call(e)?e.name:""},e.addEventHandler=function(e,t){return x.Attach(Object(s.i)(),e,t)},e.IsBeaconApiSupported=function(){return"sendBeacon"in X&&X.sendBeacon},e.getExtension=function(e,t){for(var n=null,r=0;!n&&r<e.length;)e[r]&&e[r].identifier===t&&(n=e[r]),r++;return n},e.document=Object(s.a)()||{},e._canUseLocalStorage=void 0,e._canUseSessionStorage=void 0,e._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],e.NotSpecified="not_specified",e.isDate=v.isDate,e.toISOStringForIE8=v.toISOString,e}(),$=function(){function e(){}return e.parseUrl=function(t){return e.htmlAnchorElement||(e.htmlAnchorElement=e.document.createElement?e.document.createElement("a"):{host:e.parseHost(t)}),e.htmlAnchorElement.href=t,e.htmlAnchorElement},e.getAbsoluteUrl=function(t){var n,r=e.parseUrl(t);return r&&(n=r.href),n},e.getPathName=function(t){var n,r=e.parseUrl(t);return r&&(n=r.pathname),n},e.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},e.parseHost=function(e){if(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);if(null!=t&&t.length>2&&Y(t[2])&&t[2].length>0)return t[2]}return null},e.document=Object(s.a)()||{},e}(),ee=function(){function e(){}return e.canIncludeCorrelationHeader=function(e,t,n){if(e&&e.disableCorrelationHeaders)return!1;if(!t)return!1;var r=$.parseUrl(t).host.toLowerCase();if(!(e&&e.enableCorsCorrelation||r===n))return!1;var i,o=e&&e.correlationHeaderDomains;if(o&&(v.arrForEach(o,(function(e){var t=new RegExp(e.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));i=i||t.test(r)})),!i))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a.length)return!0;for(var s=0;s<a.length;s++){if(new RegExp(a[s].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(r))return!1}return r&&r.length>0},e.getCorrelationContext=function(t){if(t){var n=e.getCorrelationContextValue(t,W.requestContextTargetKey);if(n&&n!==e.correlationIdPrefix)return n}},e.getCorrelationContextValue=function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}},e.correlationIdPrefix="cid-v1:",e}(),te=function(){function e(){}return e.ParseDependencyPath=function(e,t,n,r){var i,o=r,a=r;if(t&&t.length>0){var s=$.parseUrl(t);if(i=s.host,!o)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),a=s.pathname,o=K.sanitizeString(e,n?n+" "+c:c)}else o=K.sanitizeString(e,t)}else i=r,o=r;return{target:i,name:o,data:a}},e}(),ne=function(){function e(){}return e.Now=function(){var e=Object(s.h)();return e&&e.now&&e.timing?e.now()+e.timing.navigationStart:(new Date).getTime()},e.GetDuration=function(e,t){var n=null;return 0===e||0===t||v.isNullOrUndefined(e)||v.isNullOrUndefined(t)||(n=t-e),n},e}(),re="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ie="sampleRate",oe="ProcessLegacy",ae="http.method",se="https://dc.services.visualstudio.com",ce=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR),r=v.arrReduce(n,(function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(v.objKeys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||se}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}(),le=function(){},ue=function(e){function t(){return e.call(this)||this}return o(t,e),t}(le),pe=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=K.sanitizeString(t,r)||Z.NotSpecified,i.data=n,i.time=v.toISOString(new Date),i.aiDataContract={time:j.Required,iKey:j.Required,name:j.Required,sampleRate:function(){return 100===i.sampleRate?j.Hidden:j.Required},tags:j.Required,data:j.Required},i}return o(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),de=function(){},fe=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(de),he=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.aiDataContract={ver:j.Required,name:j.Required,properties:j.Default,measurements:j.Default},o.name=K.sanitizeString(t,n)||Z.NotSpecified,o.properties=K.sanitizeProperties(t,r),o.measurements=K.sanitizeMeasurements(t,i),o}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(fe),ge=function(){},me=function(){this.hasFullStack=!0,this.parsedStack=[]},ve=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.aiDataContract={ver:j.Required,exceptions:j.Required,severityLevel:j.Default,properties:j.Default,measurements:j.Default},n instanceof Error?(s.exceptions=[new ye(t,n)],s.properties=K.sanitizeProperties(t,r),s.measurements=K.sanitizeMeasurements(t,i),o&&(s.severityLevel=o),a&&(s.id=a)):(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,v.isNullOrUndefined(n.isManual)||(s.isManual=n.isManual)),s}return o(t,e),t.CreateFromInterface=function(e,n){var r=n.exceptions&&v.arrMap(n.exceptions,(function(t){return ye.CreateFromInterface(e,t)}));return new t(e,a({},n,{exceptions:r}))},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=(e.ver,e.problemGroup),a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&v.arrMap(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:a,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return o(t,e),t}(de)),ye=function(e){function t(n,r){var i=e.call(this)||this;if(i.aiDataContract={id:j.Default,outerId:j.Default,typeName:j.Required,message:j.Required,hasFullStack:j.Default,stack:j.Default,parsedStack:j.Array},r instanceof Error){i.typeName=K.sanitizeString(n,r.name)||Z.NotSpecified,i.message=K.sanitizeMessage(n,r.message)||Z.NotSpecified;var o=r.stack;i.parsedStack=t.parseStack(o),i.stack=K.sanitizeException(n,o),i.hasFullStack=Z.isArray(i.parsedStack)&&i.parsedStack.length>0}else i.typeName=r.typeName,i.message=r.message,i.stack=r.stack,i.parsedStack=r.parsedStack,i.hasFullStack=r.hasFullStack;return i}return o(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&v.arrMap(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&v.arrMap(n.parsedStack,(function(e){return xe.CreateFromInterface(e)}))||n.parsedStack;return new t(e,a({},n,{parsedStack:r}))},t.parseStack=function(e){var t;if(v.isString(e)){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var a=n[o];if(xe.regex.test(a)){var s=new xe(n[o],r++);i+=s.sizeInBytes,t.push(s)}}if(i>32768)for(var c=0,l=t.length-1,u=0,p=c,d=l;c<l;){if((u+=t[c].sizeInBytes+t[l].sizeInBytes)>32768){var f=d-p+1;t.splice(p,f);break}p=c,d=l,c++,l--}}return t},t}(me),xe=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:j.Required,method:j.Required,assembly:j.Default,fileName:j.Default,line:j.Default},"string"==typeof n){var o=n;i.level=r,i.method="<no_method>",i.assembly=Z.trim(o),i.fileName="",i.line=0;var a=o.match(t.regex);a&&a.length>=5&&(i.method=Z.trim(a[2])||i.method,i.fileName=Z.trim(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return o(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(ge),be=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t.measurements={},t}return o(t,e),t}(de);!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(Q||(Q={}));var we,Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:j.Required,kind:j.Default,value:j.Required,count:j.Default,min:j.Default,max:j.Default,stdDev:j.Default},t}return o(t,e),t}((function(){this.kind=Q.Measurement})),_e=function(e){function t(t,n,r,i,o,a,s,c){var l=e.call(this)||this;l.aiDataContract={ver:j.Required,metrics:j.Required,properties:j.Default};var u=new Ie;return u.count=i>0?i:void 0,u.max=isNaN(a)||null===a?void 0:a,u.min=isNaN(o)||null===o?void 0:o,u.name=K.sanitizeString(t,n)||Z.NotSpecified,u.value=r,l.metrics=[u],l.properties=K.sanitizeProperties(t,s),l.measurements=K.sanitizeMeasurements(t,c),l}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(be),Te=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(fe),Se=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:j.Required,name:j.Default,url:j.Default,duration:j.Default,properties:j.Default,measurements:j.Default,id:j.Default},c.id=K.sanitizeId(t,s),c.url=K.sanitizeUrl(t,r),c.name=K.sanitizeString(t,n)||Z.NotSpecified,isNaN(i)||(c.duration=Z.msToTimeSpan(i)),c.properties=K.sanitizeProperties(t,o),c.measurements=K.sanitizeMeasurements(t,a),c}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Te),Ce=function(e){function t(t,n,r,i,o,a,s,c,l,u,p,d){void 0===l&&(l="Ajax");var f=e.call(this)||this;f.aiDataContract={id:j.Required,ver:j.Required,name:j.Default,resultCode:j.Default,duration:j.Default,success:j.Default,data:j.Default,target:j.Default,type:j.Default,properties:j.Default,measurements:j.Default,kind:j.Default,value:j.Default,count:j.Default,min:j.Default,max:j.Default,stdDev:j.Default,dependencyKind:j.Default,dependencySource:j.Default,commandName:j.Default,dependencyTypeName:j.Default},f.id=n,f.duration=Z.msToTimeSpan(o),f.success=a,f.resultCode=s+"",f.type=K.sanitizeString(t,l);var h=te.ParseDependencyPath(t,r,c,i);return f.data=K.sanitizeUrl(t,i)||h.data,f.target=K.sanitizeString(t,h.target),u&&(f.target=f.target+" | "+u),f.name=K.sanitizeString(t,h.name),f.properties=K.sanitizeProperties(t,p),f.measurements=K.sanitizeMeasurements(t,d),f}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return o(t,e),t}(de)),Ee=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;return a.aiDataContract={ver:j.Required,message:j.Required,severityLevel:j.Default,properties:j.Default},n=n||Z.NotSpecified,a.message=K.sanitizeMessage(t,n),a.properties=K.sanitizeProperties(t,i),a.measurements=K.sanitizeMeasurements(t,o),r&&(a.severityLevel=r),a}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(de)),ke=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:j.Required,name:j.Default,url:j.Default,duration:j.Default,perfTotal:j.Default,networkConnect:j.Default,sentRequest:j.Default,receivedResponse:j.Default,domProcessing:j.Default,properties:j.Default,measurements:j.Default},c.url=K.sanitizeUrl(t,r),c.name=K.sanitizeString(t,n)||Z.NotSpecified,c.properties=K.sanitizeProperties(t,o),c.measurements=K.sanitizeMeasurements(t,a),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return o(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(Te)),De=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:j.Required,baseData:j.Required},r.baseType=t,r.baseData=n,r}return o(t,e),t}(ue);!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(we||(we={}));var Pe=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e.extensionConfig&&e.extensionConfig[n]&&!v.isNullOrUndefined(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],v.isNullOrUndefined(i)?r:i},e}(),Ne=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalNodeName="ai.internal.nodeName",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion"},Ae=function(){function e(){}return e.create=function(e,t,n,r,i,o){if(n=K.sanitizeString(r,n)||Z.NotSpecified,v.isNullOrUndefined(e)||v.isNullOrUndefined(t)||v.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var a={name:n,time:v.toISOString(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};if(!v.isNullOrUndefined(i))for(var s in i)i.hasOwnProperty(s)&&(a.data[s]=i[s]);return a},e}(),Me=function(){function e(){}return e.UserExt="user",e.DeviceExt="device",e.TraceExt="trace",e.WebExt="web",e.AppExt="app",e.OSExt="os",e.SessionExt="ses",e.SDKExt="sdk",e}(),Oe=new Ne,Le="AppInsightsPropertiesPlugin",Re="AppInsightsChannelPlugin",je="ApplicationInsightsAnalytics",Ue=Object.getPrototypeOf,Fe=0;function ze(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)}function Be(e){return"function"==typeof e}function qe(e){return e&&(e===Object.prototype||e===Array.prototype)}function He(e){return qe(e)||e===Function.prototype}function Ve(e){if(e){if(Ue)return Ue(e);var t=e.__proto__||e.prototype||e.constructor;if(t)return t}return null}function Ge(e,t,n){return"constructor"!==t&&Be(e[t])&&(n||ze(e,t))}function We(e){throw new TypeError("DynamicProto: "+e)}function Ke(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Xe(e,t){return ze(e,"prototype")?e.name||t||"_unknown_":((e||{}).constructor||{}).name||t||"_unknown_"}var Ye=function(e,t,n){ze(e,"prototype")||We("theClass is an invalid class definition.");var r=e.prototype;(function(e,t){for(var n=Ve(t);n&&!He(n);){if(n===e)return!0;n=Ve(n)}return!1})(r,t)||We("["+Xe(e)+"] is not in class heirarchy of ["+Xe(t)+"]");var i=null;ze(r,"_dynClass")?i=r._dynClass:(i="_dynCls$"+Xe(e,"_")+"$"+Fe,Fe++,r._dynClass=i);var o=function(e){var t={};for(var n in e)!t[n]&&Ge(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,function(e,t,n){function r(e,t){return function(){return t.apply(e,arguments)}}var i={};for(var o in n)i[o]=r(t,n[o]);for(var a=Ve(e),s=[];a&&!He(a)&&!Ke(s,a);){for(var o in a)!i[o]&&Ge(a,o,!Ue)&&(i[o]=r(t,a[o]));s.push(a),a=Ve(a)}return i}(r,t,o)),function(e,t,n,r){function i(e,t){var n=function(){var r=this;if(r&&ze(e,"_dynClass")){var i=((r._dynInstFuncs||{})[e._dynClass]||{})[t];if(i)return i.apply(r,arguments);We("Missing ["+t+"] function")}var o=e[t];return o===n&&(o=Ve(e)[t]),Be(o)||We("["+t+"] is not a function"),o.apply(r,arguments)};return n._isDynProxy=1,n}if(!qe(e)){var o=n._dynInstFuncs=n._dynInstFuncs||{},a=o[t]=o[t]||{};for(var s in n)Ge(n,s,!1)&&n[s]!==r[s]&&(a[s]=n[s],delete n[s],(!ze(e,s)||e[s]&&!e[s]._isDynProxy)&&(e[s]=i(e,s)))}}(r,i,t,o)},Je=function e(t,n,r,i){Ye(e,this,(function(e){var o,a=v.arrForEach,c=v.isNullOrUndefined,l=null,u=[],p=!1;function d(){r&&a(r.getTransmissionControls(),(function(e){a(e,(function(e){return e.flush(!0)}))}))}r&&(o=r.logger),e.trackPageView=function(e,r){var f=e.name;if(c(f)||"string"!=typeof f){var h=Object(s.a)();f=e.name=h&&h.title||""}var g=e.uri;if(c(g)||"string"!=typeof g){var v=Object(s.f)();g=e.uri=v&&v.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),d(),void o.throwInternal(m.WARNING,b.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var y,x,w,I=!1,_=i.getPerformanceTiming().navigationStart;y=ne.GetDuration(_,+new Date),i.shouldCollectDuration(y)||(y=void 0),c(r)||c(r.duration)||(x=r.duration),!n&&isNaN(x)||(isNaN(x)&&(r||(r={}),r.duration=y),t.sendPageViewInternal(e,r),d(),I=!0),r||(r={}),w=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var a={name:f,uri:g};i.populatePageViewPerformanceEvent(a),a.isValid||I?(I||(r.duration=a.durationMs,t.sendPageViewInternal(e,r)),p||(t.sendPageViewPerformanceInternal(a,r),p=!0)):(r.duration=y,t.sendPageViewInternal(e,r))}else ne.GetDuration(_,+new Date)>6e4&&(n=!0,I||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){o.throwInternal(m.CRITICAL,b.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Z.getExceptionName(e),{exception:Z.dump(e)})}return n},u.push(w),l||(l=setInterval((function(){var e=u.slice(0),t=!1;u=[],a(e,(function(e){e()?t=!0:u.push(e)})),0===u.length&&(clearInterval(l),l=null),t&&d()}),100))}}))},Qe=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Z.dump(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+Z.dump(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Z.canUseSessionStorage()){if(null!=Z.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Ze(e,t),r=Object(s.e)().stringify(n);Z.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+Z.dump(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Z.canUseSessionStorage()){var e=Date.now(),t=Z.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);if(t&&Object(s.k)()){var n=Object(s.e)().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Z.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+Z.dump(e)),null}},e}(),Ze=function(e,t){this.pageVisitStartTime=Date.now(),this.pageName=e,this.pageUrl=t},$e=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming();if(t||n){if(t)var r=t.duration,i=ne.GetDuration(t.startTime,t.connectEnd),o=ne.GetDuration(t.requestStart,t.responseStart),a=ne.GetDuration(t.responseStart,t.responseEnd),s=ne.GetDuration(t.responseEnd,t.loadEventEnd);else r=ne.GetDuration(n.navigationStart,n.loadEventEnd),i=ne.GetDuration(n.navigationStart,n.connectEnd),o=ne.GetDuration(n.requestStart,n.responseStart),a=ne.GetDuration(n.responseStart,n.responseEnd),s=ne.GetDuration(n.responseEnd,n.loadEventEnd);0===r?this._logger.throwInternal(m.WARNING,b.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:o,response:a,dom:s}):this.shouldCollectDuration(r,i,o,a,s)?r<Math.floor(i)+Math.floor(o)+Math.floor(a)+Math.floor(s)?this._logger.throwInternal(m.WARNING,b.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:o,response:a,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=Z.msToTimeSpan(r),e.networkConnect=Z.msToTimeSpan(i),e.sentRequest=Z.msToTimeSpan(o),e.receivedResponse=Z.msToTimeSpan(a),e.domProcessing=Z.msToTimeSpan(s),e.isValid=!0):this._logger.throwInternal(m.WARNING,b.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:a,dom:s})}},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Object(s.h)().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Object(s.h)().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=Object(s.h)();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=Object(s.h)();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=Object(s.h)(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(s.g)()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,o=!1;if(i)for(var a=0;a<r.length;a++)o=o||-1!==i.toLowerCase().indexOf(r[a]);if(o)return!1;for(a=0;a<e.length;a++)if(e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();
/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.5.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */function et(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var tt=function(e){function t(){var t=e.call(this)||this;t.identifier=je,t.priority=180,t.autoRoutePVDelay=500,t._trackAjaxAttempts=0;var n=Object(s.f)();return t._prevUri=n&&n.href||"",t}return o(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Z.stringToBoolOrDefault(e.disableExceptionTracking),e.autoTrackPageVisitTime=Z.stringToBoolOrDefault(e.autoTrackPageVisitTime),e.overridePageViewDuration=Z.stringToBoolOrDefault(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Z.stringToBoolOrDefault(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isCookieUseDisabled=Z.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=Z.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Z.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Z.stringToBoolOrDefault(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},t.prototype.processTelemetry=function(e,t){var n=!1,r=this._telemetryInitializers.length;t=this._getTelCtx(t);for(var i=0;i<r;++i){var o=this._telemetryInitializers[i];if(o)try{if(!1===o.apply(null,[e])){n=!0;break}}catch(e){t.diagLog().throwInternal(m.CRITICAL,b.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Z.getExceptionName(e),{exception:Z.dump(e)},!0)}}n||this.processNext(e,t)},t.prototype.trackEvent=function(e,t){try{var n=Ae.create(e,he.dataType,he.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(m.WARNING,b.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.stopTrackEvent=function(e,t,n){try{this._eventTracking.stop(e,void 0,t)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.trackTrace=function(e,t){try{var n=Ae.create(e,Ee.dataType,Ee.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(m.WARNING,b.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.trackMetric=function(e,t){try{var n=Ae.create(e,_e.dataType,_e.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.trackPageView=function(e,t){try{var n=e||{};this._pageViewManager.trackPageView(n,a({},n.properties,n.measurements,t)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.sendPageViewInternal=function(e,t,n){var r=Object(s.a)();r&&(e.refUri=void 0===e.refUri?r.referrer:e.refUri);var i=Ae.create(e,Se.dataType,Se.envelopeType,this.diagLog(),t,n);this.core.track(i),this._trackAjaxAttempts=0},t.prototype.sendPageViewPerformanceInternal=function(e,t,n){var r=Ae.create(e,ke.dataType,ke.envelopeType,this.diagLog(),t,n);this.core.track(r)},t.prototype.trackPageViewPerformance=function(e,t){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),this.sendPageViewPerformanceInternal(e,t)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.startTrackPage=function(e){try{if("string"!=typeof e){var t=Object(s.a)();e=t&&t.title||""}this._pageTracking.start(e)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.stopTrackPage=function(e,t,n,r){try{if("string"!=typeof e){var i=Object(s.a)();e=i&&i.title||""}if("string"!=typeof t){var o=Object(s.f)();t=o&&o.href||""}this._pageTracking.stop(e,t,n,r),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.sendExceptionInternal=function(e,t,n){var r=new ve(this.diagLog(),e.exception||new Error(Z.NotSpecified),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),i=Ae.create(r,ve.dataType,ve.envelopeType,this.diagLog(),t,n);this.core.track(i)},t.prototype.trackException=function(e,t){try{this.sendExceptionInternal(e,t)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype._onerror=function(e){try{var t={url:e&&e.url||(Object(s.a)()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message};if(Z.isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e.error))this._sendCORSException(t.url);else{if(!Z.isError(e.error)){var n="window.onerror@"+t.url+":"+e.lineNumber+":"+(e.columnNumber||0);e.error=new Error(e.message),e.error.stack=n}this.trackException({exception:e.error,severityLevel:we.Error},t)}}catch(t){var r=e.error?e.error.name+", "+e.error.message:"null";this.diagLog().throwInternal(m.CRITICAL,b.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Z.getExceptionName(t),{exception:Z.dump(t),errorString:r})}},t.prototype.addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype.initialize=function(n,r,i,o){var a=this;if(!this.isInitialized()){if(v.isNullOrUndefined(r))throw Error("Error initializing");e.prototype.initialize.call(this,n,r,i,o),this.setInitialized(!1);var c=this._getTelCtx(),l=this.identifier;this._globalconfig={instrumentationKey:n.instrumentationKey,endpointUrl:n.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=c.getExtCfg(l);var u=t.getDefaultConfig();if(void 0!==u){for(var p in u)this.config[p]=c.getConfig(l,p,u[p]);if(this._globalconfig)for(var p in u)void 0===this._globalconfig[p]&&(this._globalconfig[p]=u[p])}this.config.isCookieUseDisabled&&Z.disableCookies(),this.config.isStorageUseDisabled&&Z.disableStorage();var d={instrumentationKey:function(){return n.instrumentationKey},accountId:function(){return a.config.accountId||n.accountId},sessionRenewalMs:function(){return a.config.sessionRenewalMs||n.sessionRenewalMs},sessionExpirationMs:function(){return a.config.sessionExpirationMs||n.sessionExpirationMs},sampleRate:function(){return a.config.samplingPercentage||n.samplingPercentage},cookieDomain:function(){return a.config.cookieDomain||n.cookieDomain},sdkExtension:function(){return a.config.sdkExtension||n.sdkExtension},isBrowserLinkTrackingEnabled:function(){return a.config.isBrowserLinkTrackingEnabled||n.isBrowserLinkTrackingEnabled},appId:function(){return a.config.appId||n.appId}};this._pageViewPerformanceManager=new $e(this.core),this._pageViewManager=new Je(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new Qe(this.diagLog(),(function(e,t,n){return a.trackPageVisitTime(e,t,n)})),this._telemetryInitializers=this._telemetryInitializers||[],this._addDefaultTelemetryInitializers(d),this._eventTracking=new nt(this.diagLog(),"trackEvent"),this._eventTracking.action=function(e,t,n,r){r||(r={}),r.duration=n.toString(),a.trackEvent({name:e,properties:r})},this._pageTracking=new nt(this.diagLog(),"trackPageView"),this._pageTracking.action=function(e,t,n,r,i){v.isNullOrUndefined(r)&&(r={}),r.duration=n.toString();var o={name:e,uri:t,properties:r,measurements:i};a.sendPageViewInternal(o,r)};var f,h=Object(s.i)(),g=Object(s.d)(),m=Object(s.f)(),y=this;if(!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented&&h){var x=h.onerror;h.onerror=function(e,t,n,r,i){var o=x&&x(e,t,n,r,i);return!0!==o&&y._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i}),o},this.config.autoExceptionInstrumented=!0}if(!1===this.config.disableExceptionTracking&&!0===this.config.enableUnhandledPromiseRejectionTracking&&!this.config.autoUnhandledPromiseInstrumented&&h){var b=h.onunhandledrejection;h.onunhandledrejection=function(e){var t=b&&b.call(h,e);return!0!==t&&y._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:new Error(e.reason.toString()),url:m?m.href:"",lineNumber:0,columnNumber:0}),t},this.config.autoUnhandledPromiseInstrumented=!0}if(!0===this.config.enableAutoRouteTracking&&g&&v.isFunction(g.pushState)&&v.isFunction(g.replaceState)&&h&&"undefined"!=typeof Event){var w=this;v.arrForEach(i,(function(e){e.identifier===Le&&(a._properties=e)})),g.pushState=(f=g.pushState,function(){var e=f.apply(this,arguments);return et(h,Z.createDomEvent(w.config.namePrefix+"pushState")),et(h,Z.createDomEvent(w.config.namePrefix+"locationchange")),e}),g.replaceState=function(e){return function(){var t=e.apply(this,arguments);return et(h,Z.createDomEvent(w.config.namePrefix+"replaceState")),et(h,Z.createDomEvent(w.config.namePrefix+"locationchange")),t}}(g.replaceState),h.addEventListener&&(h.addEventListener(w.config.namePrefix+"popstate",(function(){et(h,Z.createDomEvent(w.config.namePrefix+"locationchange"))})),h.addEventListener(w.config.namePrefix+"locationchange",(function(){w._properties&&w._properties.context&&w._properties.context.telemetryTrace&&(w._properties.context.telemetryTrace.traceID=Z.generateW3CId(),w._properties.context.telemetryTrace.name=m&&m.pathname||"_unknown_"),a._currUri?(a._prevUri=a._currUri,a._currUri=m&&m.href||""):a._currUri=m&&m.href||"",setTimeout(function(e){w.trackPageView({refUri:e,properties:{duration:0}})}.bind(a,a._prevUri),w.autoRoutePVDelay)})))}this.setInitialized(!0)}},t.prototype.trackPageVisitTime=function(e,t,n){var r={PageName:e,PageUrl:t};this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},r)},t.prototype._addDefaultTelemetryInitializers=function(e){if(!e.isBrowserLinkTrackingEnabled()){var t=["/browserLinkSignalR/","/__browserLink/"];this._addTelemetryInitializer((function(e){if(e.baseType===Ce.dataType){var n=e.baseData;if(n)for(var r=0;r<t.length;r++)if(n.target&&n.target.indexOf(t[r])>=0)return!1}return!0}))}},t.prototype._addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype._sendCORSException=function(e){var t={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:e,lineNumber:0,columnNumber:0,error:void 0},n=Ae.create(t,ve.dataType,ve.envelopeType,this.diagLog(),{url:e});this.core.track(n)},t.Version="2.5.3",t}(D),nt=function(){function e(e,t){this._name=t,this._events={},this._logger=e}return e.prototype.start=function(e){void 0!==this._events[e]&&this._logger.throwInternal(m.WARNING,b.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},e.prototype.stop=function(e,t,n,r){var i=this._events[e];if(isNaN(i))this._logger.throwInternal(m.WARNING,b.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:e},!0);else{var o=+new Date,a=ne.GetDuration(i,o);this.action(e,t,a,n,r)}delete this._events[e],this._events[e]=void 0},e}(),rt=function(){function e(e){this._config=e,this._buffer=[]}return e.prototype.enqueue=function(e){this._buffer.push(e)},e.prototype.count=function(){return this._buffer.length},e.prototype.clear=function(){this._buffer.length=0},e.prototype.getItems=function(){return this._buffer.slice(0)},e.prototype.batchPayloads=function(e){return e&&e.length>0?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.prototype.markAsSent=function(e){this.clear()},e.prototype.clearSent=function(e){},e}(),it=function(){function e(t,n){this._bufferFullMessageSent=!1,this._logger=t,this._config=n;var r=this.getBuffer(e.BUFFER_KEY),i=this.getBuffer(e.SENT_BUFFER_KEY);this._buffer=r.concat(i),this._buffer.length>e.MAX_BUFFER_SIZE&&(this._buffer.length=e.MAX_BUFFER_SIZE),this.setBuffer(e.SENT_BUFFER_KEY,[]),this.setBuffer(e.BUFFER_KEY,this._buffer)}return e.prototype.enqueue=function(t){this._buffer.length>=e.MAX_BUFFER_SIZE?this._bufferFullMessageSent||(this._logger.throwInternal(m.WARNING,b.SessionStorageBufferFull,"Maximum buffer size reached: "+this._buffer.length,!0),this._bufferFullMessageSent=!0):(this._buffer.push(t),this.setBuffer(e.BUFFER_KEY,this._buffer))},e.prototype.count=function(){return this._buffer.length},e.prototype.clear=function(){this._buffer.length=0,this.setBuffer(e.BUFFER_KEY,[]),this.setBuffer(e.SENT_BUFFER_KEY,[]),this._bufferFullMessageSent=!1},e.prototype.getItems=function(){return this._buffer.slice(0)},e.prototype.batchPayloads=function(e){return e&&e.length>0?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.prototype.markAsSent=function(t){this._buffer=this.removePayloadsFromBuffer(t,this._buffer),this.setBuffer(e.BUFFER_KEY,this._buffer);var n=this.getBuffer(e.SENT_BUFFER_KEY);n instanceof Array&&t instanceof Array&&((n=n.concat(t)).length>e.MAX_BUFFER_SIZE&&(this._logger.throwInternal(m.CRITICAL,b.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+n.length,!0),n.length=e.MAX_BUFFER_SIZE),this.setBuffer(e.SENT_BUFFER_KEY,n))},e.prototype.clearSent=function(t){var n=this.getBuffer(e.SENT_BUFFER_KEY);n=this.removePayloadsFromBuffer(t,n),this.setBuffer(e.SENT_BUFFER_KEY,n)},e.prototype.removePayloadsFromBuffer=function(e,t){var n=[];for(var r in t){var i=!1;for(var o in e)if(e[o]===t[r]){i=!0;break}i||n.push(t[r])}return n},e.prototype.getBuffer=function(e){var t=e;try{t=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+t:t;var n=Z.getSessionStorage(this._logger,t);if(n){var r=Object(s.e)().parse(n);if(r)return r}}catch(e){this._logger.throwInternal(m.CRITICAL,b.FailedToRestoreStorageBuffer," storage key: "+t+", "+Z.getExceptionName(e),{exception:Z.dump(e)})}return[]},e.prototype.setBuffer=function(e,t){var n=e;try{n=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+n:n;var r=JSON.stringify(t);Z.setSessionStorage(this._logger,n,r)}catch(e){Z.setSessionStorage(this._logger,n,JSON.stringify([])),this._logger.throwInternal(m.WARNING,b.FailedToSetStorageBuffer," storage key: "+n+", "+Z.getExceptionName(e)+". Buffer cleared",{exception:Z.dump(e)})}},e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(),ot=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){if(!v.isNullOrUndefined(e))for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];v.isNumber(i)?n[r]=i:v.isString(i)?t[r]=i:Object(s.k)()&&(t[r]=Object(s.e)().stringify(i))}},e.createEnvelope=function(t,n,r,i){var o=new pe(t,i,n);r[ie]&&(o.sampleRate=r[ie]),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(r,o),r.tags||(r.tags=[]),o},e.extractPartAExtensions=function(t,n){if(n.tags||(n.tags={}),t.ext||(t.ext={}),t.tags||(t.tags=[]),t.ext.user){t.ext.user.authId&&(n.tags[Oe.userAuthUserId]=t.ext.user.authId);var r=t.ext.user.id||t.ext.user.localId;r&&(n.tags[Oe.userId]=r)}if(t.ext.app&&t.ext.app.sesId&&(n.tags[Oe.sessionId]=t.ext.app.sesId),t.ext.device&&((t.ext.device.id||t.ext.device.localId)&&(n.tags[Oe.deviceId]=t.ext.device.id||t.ext.device.localId),t.ext.device.deviceClass&&(n.tags[Oe.deviceType]=t.ext.device.deviceClass),t.ext.device.ip&&(n.tags[Oe.deviceIp]=t.ext.device.ip)),t.ext.web){var i=t.ext.web;i.browserLang&&(n.tags[Oe.deviceLanguage]=i.browserLang),i.browserVer&&(n.tags[Oe.deviceBrowserVersion]=i.browserVer),i.browser&&(n.tags[Oe.deviceBrowser]=i.browser),n.data=n.data||{},n.data.baseData=n.data.baseData||{},n.data.baseData.properties=n.data.baseData.properties||{},i.domain&&(n.data.baseData.properties.domain=i.domain),i.isManual&&(n.data.baseData.properties.isManual=i.isManual.toString()),i.screenRes&&(n.data.baseData.properties.screenRes=i.screenRes),i.userConsent&&(n.data.baseData.properties.userConsent=i.userConsent.toString())}t.ext.device&&t.ext.device.model&&(n.tags[Oe.deviceModel]=t.ext.device.model),t.ext.os&&t.ext.os.name&&(n.tags[Oe.deviceOS]=t.ext.os.name),t.ext.device&&t.ext.device.deviceType&&(n.tags[Oe.deviceType]=t.ext.device.deviceType),t.ext.trace&&(t.ext.trace.parentID&&(n.tags[Oe.operationParentId]=t.ext.trace.parentID),t.ext.trace.name&&(n.tags[Oe.operationName]=t.ext.trace.name),t.ext.trace.traceID&&(n.tags[Oe.operationId]=t.ext.trace.traceID));for(var o={},s=function(e){var n=t.tags[e];v.arrForEach(v.objKeys(n),(function(e){o[e]=n[e]})),t.tags.splice(e,1)},c=t.tags.length-1;c>=0;c--)s(c);for(var l in t.tags)o[l]=t.tags[l];n.tags=a({},n.tags,o),n.tags[Oe.internalSdkVersion]||(n.tags[Oe.internalSdkVersion]="javascript:"+e.Version)},e.Version="2.5.3",e}(),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.measurements||{},r=t.baseData.properties||{};ot.extractPropsAndMeasurements(t.data,r,n);var i=t.baseData;if(v.isNullOrUndefined(i))return e.warnToConsole("Invalid input for dependency data"),null;var o=i.id,a=i.target,s=i.name,c=i.duration,l=i.success,u=i.responseCode,p=i.type,d=i.correlationContext,f=i.properties&&i.properties[ae]?i.properties[ae]:"GET",h=new Ce(e,o,a,s,c,l,u,f,p,d,r,n),g=new De(Ce.dataType,h);return ot.createEnvelope(e,Ce.envelopeType,t,g)},t.DependencyEnvelopeCreator=new t,t}(ot),st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n={},r={};t.baseType!==he.dataType&&(n.baseTypeSource=t.baseType),t.baseType===he.dataType?(n=t.baseData.properties||{},r=t.baseData.measurements||{}):t.baseData&&ot.extractPropsAndMeasurements(t.baseData,n,r),ot.extractPropsAndMeasurements(t.data,n,r);var i=t.baseData.name,o=new he(e,i,n,r),a=new De(he.dataType,o);return ot.createEnvelope(e,he.envelopeType,t,a)},t.EventEnvelopeCreator=new t,t}(ot),ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData,r=ve.CreateFromInterface(e,n),i=new De(ve.dataType,r);return ot.createEnvelope(e,ve.envelopeType,t,i)},t.ExceptionEnvelopeCreator=new t,t}(ot),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.properties||{},r=t.baseData.measurements||{};ot.extractPropsAndMeasurements(t.data,n,r);var i=t.baseData.name,o=t.baseData.average,a=t.baseData.sampleCount,s=t.baseData.min,c=t.baseData.max,l=new _e(e,i,o,a,s,c,n,r),u=new De(_e.dataType,l);return ot.createEnvelope(e,_e.envelopeType,t,u)},t.MetricEnvelopeCreator=new t,t}(ot),ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){var n;this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null."),v.isNullOrUndefined(t.baseData)||v.isNullOrUndefined(t.baseData.properties)||v.isNullOrUndefined(t.baseData.properties.duration)?v.isNullOrUndefined(t.data)||v.isNullOrUndefined(t.data.duration)||(n=t.data.duration,delete t.data.duration):(n=t.baseData.properties.duration,delete t.baseData.properties.duration);var r,i=t.baseData;t.ext&&t.ext.trace&&t.ext.trace.traceID&&(r=t.ext.trace.traceID);var o=i.id||r,a=i.name,s=i.uri,c=i.properties||{},l=i.measurements||{};if(v.isNullOrUndefined(i.refUri)||(c.refUri=i.refUri),v.isNullOrUndefined(i.pageType)||(c.pageType=i.pageType),v.isNullOrUndefined(i.isLoggedIn)||(c.isLoggedIn=i.isLoggedIn.toString()),!v.isNullOrUndefined(i.properties)){var u=i.properties;for(var p in u)u.hasOwnProperty(p)&&(c[p]=u[p])}ot.extractPropsAndMeasurements(t.data,c,l);var d=new Se(e,a,s,n,c,l,o),f=new De(Se.dataType,d);return ot.createEnvelope(e,Se.envelopeType,t,f)},t.PageViewEnvelopeCreator=new t,t}(ot),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData,r=n.name,i=n.uri||n.url,o=n.properties||{},a=n.measurements||{};ot.extractPropsAndMeasurements(t.data,o,a);var s=new ke(e,r,i,void 0,o,a,n),c=new De(ke.dataType,s);return ot.createEnvelope(e,ke.envelopeType,t,c)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ot),dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.Create=function(e,t){this._logger=e,v.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(m.CRITICAL,b.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.message,r=t.baseData.severityLevel,i=t.baseData.properties||{},o=t.baseData.measurements||{};ot.extractPropsAndMeasurements(t.data,i,o);var a=new Ee(e,n,r,i,o),s=new De(Ee.dataType,a);return ot.createEnvelope(e,Ee.envelopeType,t,s)},t.TraceEnvelopeCreator=new t,t}(ot),ft=function(){function e(e){this._logger=e}return e.prototype.serialize=function(e){var t=this._serializeObject(e,"root");try{return Object(s.e)().stringify(t)}catch(e){this._logger.throwInternal(m.CRITICAL,b.CannotSerializeObject,e&&v.isFunction(e.toString)?e.toString():"Error serializing object",null,!0)}},e.prototype._serializeObject=function(e,t){var n={};if(!e)return this._logger.throwInternal(m.CRITICAL,b.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:t},!0),n;if(e.__aiCircularRefCheck)return this._logger.throwInternal(m.WARNING,b.CircularReferenceDetected,"Circular reference detected while serializing object",{name:t},!0),n;if(!e.aiDataContract){if("measurements"===t)n=this._serializeStringMap(e,"number",t);else if("properties"===t)n=this._serializeStringMap(e,"string",t);else if("tags"===t)n=this._serializeStringMap(e,"string",t);else if(Z.isArray(e))n=this._serializeArray(e,t);else{this._logger.throwInternal(m.WARNING,b.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:t},!0);try{Object(s.e)().stringify(e),n=e}catch(e){this._logger.throwInternal(m.CRITICAL,b.CannotSerializeObject,e&&v.isFunction(e.toString)?e.toString():"Error serializing object",null,!0)}}return n}for(var r in e.__aiCircularRefCheck=!0,e.aiDataContract){var i=e.aiDataContract[r],o=v.isFunction(i)?i()&j.Required:i&j.Required,a=v.isFunction(i)?i()&j.Hidden:i&j.Hidden,c=i&j.Array,l=void 0!==e[r],u=v.isObject(e[r])&&null!==e[r];if(!o||l||c){if(!a){var p=void 0;void 0!==(p=u?c?this._serializeArray(e[r],r):this._serializeObject(e[r],r):e[r])&&(n[r]=p)}}else this._logger.throwInternal(m.CRITICAL,b.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:r,name:t})}return delete e.__aiCircularRefCheck,n},e.prototype._serializeArray=function(e,t){var n;if(e)if(Z.isArray(e)){n=[];for(var r=0;r<e.length;r++){var i=e[r],o=this._serializeObject(i,t+"["+r+"]");n.push(o)}}else this._logger.throwInternal(m.CRITICAL,b.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:t},!0);return n},e.prototype._serializeStringMap=function(e,t,n){var r;if(e)for(var i in r={},e){var o=e[i];if("string"===t)void 0===o?r[i]="undefined":null===o?r[i]="null":o.toString?r[i]=o.toString():r[i]="invalid field: toString() is not defined.";else if("number"===t)if(void 0===o)r[i]="undefined";else if(null===o)r[i]="null";else{var a=parseFloat(o);isNaN(a)?r[i]="NaN":r[i]=a}else r[i]="invalid field: "+n+" is of unknown type.",this._logger.throwInternal(m.CRITICAL,r[i],null,!0)}return r},e}(),ht=function(){function e(){this._onlineStatus=!0;var e=Object(s.i)(),t=Object(s.a)(),n=!1;try{if(e&&x.Attach(e,"online",this._setOnline.bind(this))&&(x.Attach(e,"offline",this._setOffline.bind(this)),n=!0),t){var r=t.body||t;v.isUndefined(r.ononline)||(r.ononline=this._setOnline.bind(this),r.onoffline=this._setOffline.bind(this),n=!0)}}catch(e){n=!1}this.isListening=n}return e.prototype.isOnline=function(){var e=Object(s.g)();return this.isListening?this._onlineStatus:!(e&&!v.isNullOrUndefined(e.onLine))||e.onLine},e.prototype.isOffline=function(){return!this.isOnline()},e.prototype._setOnline=function(){this._onlineStatus=!0},e.prototype._setOffline=function(){this._onlineStatus=!1},e.Offline=new e,e}().Offline,gt=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return 100*(this.getHashCode(t)/e.INT_MAX_VALUE)},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}(),mt=function(){function e(){this.hashCodeGeneragor=new gt,this.keys=new Ne}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}(),vt=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=v.isNullOrUndefined(t)?new I:t,(e>100||e<0)&&(this._logger.throwInternal(m.WARNING,b.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),this.sampleRate=100),this.sampleRate=e,this.samplingScoreGenerator=new mt}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||(e.baseType===_e.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t)},e}();function yt(e){try{return e.responseText}catch(e){}return null}var xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=1001,t.identifier=Re,t._XMLHttpRequestSupported=!1,t}return o(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||v.isNullOrUndefined(t)?e:a({},e,{iKey:t})).baseType){case he.dataType:return st.EventEnvelopeCreator.Create(n,r);case Ee.dataType:return dt.TraceEnvelopeCreator.Create(n,r);case Se.dataType:return ut.PageViewEnvelopeCreator.Create(n,r);case ke.dataType:return pt.PageViewPerformanceEnvelopeCreator.Create(n,r);case ve.dataType:return ct.ExceptionEnvelopeCreator.Create(n,r);case _e.dataType:return lt.MetricEnvelopeCreator.Create(n,r);case Ce.dataType:return at.DependencyEnvelopeCreator.Create(n,r);default:return st.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0}},t.prototype.pause=function(){throw new Error("Method not implemented.")},t.prototype.resume=function(){throw new Error("Method not implemented.")},t.prototype.flush=function(){try{this.triggerSend()}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.FlushFailed,"flush failed, telemetry will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.onunloadFlush=function(){if(!1!==this._senderConfig.onunloadDisableBeacon()&&!1!==this._senderConfig.isBeaconApiDisabled()||!Z.IsBeaconApiSupported())this.flush();else try{this.triggerSend(!0,this._beaconSender)}catch(e){this.diagLog().throwInternal(m.CRITICAL,b.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype.teardown=function(){throw new Error("Method not implemented.")},t.prototype.initialize=function(n,r,i,o){e.prototype.initialize.call(this,n,r,i,o);var a=this._getTelCtx(),s=this.identifier;this._serializer=new ft(r.logger),this._consecutiveErrors=0,this._retryAt=null,this._lastSend=0,this._sender=null;var c=t._getDefaultAppInsightsChannelConfig();this._senderConfig=t._getEmptyAppInsightsChannelConfig();var l=function(e){u._senderConfig[e]=function(){return a.getConfig(s,e,c[e]())}},u=this;for(var p in c)l(p);(this._buffer=this._senderConfig.enableSessionStorageBuffer&&Z.canUseSessionStorage()?new it(this.diagLog(),this._senderConfig):new rt(this._senderConfig),this._sample=new vt(this._senderConfig.samplingPercentage(),this.diagLog()),!this._senderConfig.isBeaconApiDisabled()&&Z.IsBeaconApiSupported())?this._sender=this._beaconSender:v.isUndefined(XMLHttpRequest)||("withCredentials"in new XMLHttpRequest?(this._sender=this._xhrSender,this._XMLHttpRequestSupported=!0):v.isUndefined(XDomainRequest)||(this._sender=this._xdrSender))},t.prototype.processTelemetry=function(e,n){n=this._getTelCtx(n);try{if(this._senderConfig.disableTelemetry())return;if(!e)return void n.diagLog().throwInternal(m.CRITICAL,b.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(e.baseData&&!e.baseType)return void n.diagLog().throwInternal(m.CRITICAL,b.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(e.baseType||(e.baseType="EventData"),!this._sender)return void n.diagLog().throwInternal(m.CRITICAL,b.SenderNotInitialized,"Sender was not initialized");if(!this._isSampledIn(e))return void n.diagLog().throwInternal(m.WARNING,b.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:this._sample.sampleRate});e[ie]=this._sample.sampleRate;var r=t.constructEnvelope(e,this._senderConfig.instrumentationKey(),n.diagLog());if(!r)return void n.diagLog().throwInternal(m.CRITICAL,b.CreateEnvelopeError,"Unable to create an AppInsights envelope");var i=!1;if(e.tags&&e.tags[oe]&&(v.arrForEach(e.tags[oe],(function(e){try{e&&!1===e(r)&&(i=!0,n.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){n.diagLog().throwInternal(m.CRITICAL,b.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Z.getExceptionName(e),{exception:Z.dump(e)},!0)}})),delete e.tags[oe]),i)return;var o=this._serializer.serialize(r),a=this._buffer.getItems(),s=this._buffer.batchPayloads(a);s&&s.length+o.length>this._senderConfig.maxBatchSizeInBytes()&&this.triggerSend(),this._buffer.enqueue(o),this._setupTimer()}catch(e){n.diagLog().throwInternal(m.WARNING,b.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Z.getExceptionName(e),{exception:Z.dump(e)})}this.processNext(e,n)},t.prototype._xhrReadyStateChange=function(e,t,n){if(4===e.readyState){var r=null;if(this._appId||(r=this._parseResponse(yt(e)||e.response))&&r.appId&&(this._appId=r.appId),(e.status<200||e.status>=300)&&0!==e.status)!this._senderConfig.isRetryDisabled()&&this._isRetriable(e.status)?(this._resendPayload(t),this.diagLog().throwInternal(m.WARNING,b.TransmissionFailed,". Response code "+e.status+". Will retry to send "+t.length+" items.")):this._onError(t,this._formatErrorMessageXhr(e));else if(ht.isOffline()){if(!this._senderConfig.isRetryDisabled()){this._resendPayload(t,10),this.diagLog().throwInternal(m.WARNING,b.TransmissionFailed,". Offline - Response Code: "+e.status+". Offline status: "+ht.isOffline()+". Will retry to send "+t.length+" items.")}}else 206===e.status?(r||(r=this._parseResponse(yt(e)||e.response)),r&&!this._senderConfig.isRetryDisabled()?this._onPartialSuccess(t,r):this._onError(t,this._formatErrorMessageXhr(e))):(this._consecutiveErrors=0,this._onSuccess(t,n))}},t.prototype.triggerSend=function(e,t){void 0===e&&(e=!0);try{if(this._senderConfig.disableTelemetry())this._buffer.clear();else{if(this._buffer.count()>0){var n=this._buffer.getItems();t?t.call(this,n,e):this._sender(n,e)}this._lastSend=+new Date}clearTimeout(this._timeoutHandle),this._timeoutHandle=null,this._retryAt=null}catch(e){(!Z.getIEVersion()||Z.getIEVersion()>9)&&this.diagLog().throwInternal(m.CRITICAL,b.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Z.getExceptionName(e),{exception:Z.dump(e)})}},t.prototype._onError=function(e,t,n){this.diagLog().throwInternal(m.WARNING,b.OnError,"Failed to send telemetry.",{message:t}),this._buffer.clearSent(e)},t.prototype._onPartialSuccess=function(e,t){for(var n=[],r=[],i=0,o=t.errors.reverse();i<o.length;i++){var a=o[i],s=e.splice(a.index,1)[0];this._isRetriable(a.statusCode)?r.push(s):n.push(s)}e.length>0&&this._onSuccess(e,t.itemsAccepted),n.length>0&&this._onError(n,this._formatErrorMessageXhr(null,["partial success",t.itemsAccepted,"of",t.itemsReceived].join(" "))),r.length>0&&(this._resendPayload(r),this.diagLog().throwInternal(m.WARNING,b.TransmissionFailed,"Partial success. Delivered: "+e.length+", Failed: "+n.length+". Will retry to send "+r.length+" our of "+t.itemsReceived+" items"))},t.prototype._onSuccess=function(e,t){this._buffer.clearSent(e)},t.prototype._xdrOnLoad=function(e,t){var n=yt(e);if(!e||n+""!="200"&&""!==n){var r=this._parseResponse(n);r&&r.itemsReceived&&r.itemsReceived>r.itemsAccepted&&!this._senderConfig.isRetryDisabled()?this._onPartialSuccess(t,r):this._onError(t,this._formatErrorMessageXdr(e))}else this._consecutiveErrors=0,this._onSuccess(t,0)},t.prototype._isSampledIn=function(e){return this._sample.isSampledIn(e)},t.prototype._beaconSender=function(e,t){var n=this._senderConfig.endpointUrl(),r=this._buffer.batchPayloads(e),i=new Blob([r],{type:"text/plain;charset=UTF-8"});Object(s.g)().sendBeacon(n,i)?(this._buffer.markAsSent(e),this._onSuccess(e,e.length)):(this._xhrSender(e,!0),this.diagLog().throwInternal(m.WARNING,b.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))},t.prototype._xhrSender=function(e,t){var n=this,r=new XMLHttpRequest,i=this._senderConfig.endpointUrl();try{r[re]=!0}catch(e){}r.open("POST",i,t),r.setRequestHeader("Content-type","application/json"),Z.isInternalApplicationInsightsEndpoint(i)&&r.setRequestHeader(W.sdkContextHeader,W.sdkContextHeaderAppIdRequest),r.onreadystatechange=function(){return n._xhrReadyStateChange(r,e,e.length)},r.onerror=function(t){return n._onError(e,n._formatErrorMessageXhr(r),t)};var o=this._buffer.batchPayloads(e);r.send(o),this._buffer.markAsSent(e)},t.prototype._parseResponse=function(e){try{if(e&&""!==e){var t=Object(s.e)().parse(e);if(t&&t.itemsReceived&&t.itemsReceived>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted===t.errors.length)return t}}catch(t){this.diagLog().throwInternal(m.CRITICAL,b.InvalidBackendResponse,"Cannot parse the response. "+Z.getExceptionName(t),{response:e})}return null},t.prototype._resendPayload=function(e,t){if(void 0===t&&(t=1),e&&0!==e.length){this._buffer.clearSent(e),this._consecutiveErrors++;for(var n=0,r=e;n<r.length;n++){var i=r[n];this._buffer.enqueue(i)}this._setRetryTime(t),this._setupTimer()}},t.prototype._setRetryTime=function(e){var t;if(this._consecutiveErrors<=1)t=10;else{var n=(Math.pow(2,this._consecutiveErrors)-1)/2,r=Math.floor(Math.random()*n*10)+1;r*=e,t=Math.max(Math.min(r,3600),10)}var i=Date.now()+1e3*t;this._retryAt=i},t.prototype._setupTimer=function(){var e=this;if(!this._timeoutHandle){var t=this._retryAt?Math.max(0,this._retryAt-Date.now()):0,n=Math.max(this._senderConfig.maxBatchInterval(),t);this._timeoutHandle=setTimeout((function(){e.triggerSend()}),n)}},t.prototype._isRetriable=function(e){return 408===e||429===e||500===e||503===e},t.prototype._formatErrorMessageXhr=function(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+yt(e)||!1:t},t.prototype._xdrSender=function(e,t){var n=this,r=Object(s.i)(),i=new XDomainRequest;i.onload=function(){return n._xdrOnLoad(i,e)},i.onerror=function(t){return n._onError(e,n._formatErrorMessageXdr(i),t)};var o=r&&r.location&&r.location.protocol||"";if(0!==this._senderConfig.endpointUrl().lastIndexOf(o,0))return this.diagLog().throwInternal(m.WARNING,b.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void this._buffer.clear();var a=this._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",a);var c=this._buffer.batchPayloads(e);i.send(c),this._buffer.markAsSent(e)},t.prototype._formatErrorMessageXdr=function(e,t){return e?"XDomainRequest,Response:"+yt(e)||!1:t},t}(D),bt=function(){},wt=function(){function e(t,n){var r=this;v.isNullOrUndefined(n)?this._logger=new I:this._logger=n,t||(t={}),"function"!=typeof t.sessionExpirationMs&&(t.sessionExpirationMs=function(){return e.acquisitionSpan}),"function"!=typeof t.sessionRenewalMs&&(t.sessionRenewalMs=function(){return e.renewalSpan}),this.config=t,this._storageNamePrefix=function(){return r.config.namePrefix&&r.config.namePrefix()?e.cookieNameConst+r.config.namePrefix():e.cookieNameConst},this.automaticSession=new bt}return e.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var t=ne.Now(),n=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),r=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.renewalDate>this.config.sessionRenewalMs();n||r?this.renew():(!this.cookieUpdatedTimestamp||t-this.cookieUpdatedTimestamp>e.cookieUpdateInterval)&&(this.automaticSession.renewalDate=t,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},e.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},e.prototype.initializeAutomaticSession=function(){var e=Z.getCookie(this._logger,this._storageNamePrefix());if(e&&"function"==typeof e.split)this.initializeAutomaticSessionWithData(e);else{var t=Z.getStorage(this._logger,this._storageNamePrefix());t&&this.initializeAutomaticSessionWithData(t)}this.automaticSession.id||this.renew()},e.prototype.initializeAutomaticSessionWithData=function(e){var t=e.split("|");t.length>0&&(this.automaticSession.id=t[0]);try{if(t.length>1){var n=+t[1];this.automaticSession.acquisitionDate=+new Date(n),this.automaticSession.acquisitionDate=this.automaticSession.acquisitionDate>0?this.automaticSession.acquisitionDate:0}if(t.length>2){var r=+t[2];this.automaticSession.renewalDate=+new Date(r),this.automaticSession.renewalDate=this.automaticSession.renewalDate>0?this.automaticSession.renewalDate:0}}catch(e){this._logger.throwInternal(m.CRITICAL,b.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+Z.getExceptionName(e),{exception:Z.dump(e)})}0===this.automaticSession.renewalDate&&this._logger.throwInternal(m.WARNING,b.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},e.prototype.renew=function(){var e=ne.Now();this.automaticSession.id=Z.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),Z.canUseLocalStorage()||this._logger.throwInternal(m.WARNING,b.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},e.prototype.setCookie=function(e,t,n){var r=t+this.config.sessionExpirationMs(),i=n+this.config.sessionRenewalMs(),o=new Date,a=[e,t,n];r<i?o.setTime(r):o.setTime(i);var s=this.config.cookieDomain?this.config.cookieDomain():null,c=0===this.config.sessionExpirationMs()?"0":o.toUTCString();Z.setCookie(this._logger,this._storageNamePrefix(),a.join("|")+";expires="+c,s),this.cookieUpdatedTimestamp=ne.Now()},e.prototype.setStorage=function(e,t,n){Z.setStorage(this._logger,this._storageNamePrefix(),[e,t,n].join("|"))},e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),It=function(){},_t=function(){this.id="browser",this.deviceClass="Browser"},Tt=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.5.3"},St=function(){function e(t,n){this.isNewUser=!1,this._logger=n;var r=Z.getCookie(this._logger,e.userCookieName);if(r){this.isNewUser=!1;var i=r.split(e.cookieSeparator);i.length>0&&(this.id=i[0])}if(this.config=t,!this.id){this.id=Z.newId();var o=new Date,a=v.toISOString(o);this.accountAcquisitionDate=a,this.isNewUser=!0,o.setTime(o.getTime()+31536e6);var s=[this.id,a],c=this.config.cookieDomain?this.config.cookieDomain():void 0;Z.setCookie(this._logger,e.userCookieName,s.join(e.cookieSeparator)+";expires="+o.toUTCString(),c);var l=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Z.removeStorage(this._logger,l)}this.accountId=t.accountId?t.accountId():void 0;var u=Z.getCookie(this._logger,e.authUserCookieName);if(u){var p=(u=decodeURI(u)).split(e.cookieSeparator);p[0]&&(this.authenticatedId=p[0]),p.length>1&&p[1]&&(this.accountId=p[1])}}return e.prototype.setAuthenticatedUserContext=function(t,n,r){if(void 0===r&&(r=!1),!this.validateUserInput(t)||n&&!this.validateUserInput(n))this._logger.throwInternal(m.WARNING,b.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{this.authenticatedId=t;var i=this.authenticatedId;n&&(this.accountId=n,i=[this.authenticatedId,this.accountId].join(e.cookieSeparator)),r&&Z.setCookie(this._logger,e.authUserCookieName,encodeURI(i),this.config.cookieDomain())}},e.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,Z.deleteCookie(this._logger,e.authUserCookieName)},e.prototype.validateUserInput=function(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))},e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Ct=function(){},Et=function(e,t,n,r){this.traceID=e||Z.generateW3CId(),this.parentID=t,this.name=n;var i=Object(s.f)();!n&&i&&i.pathname&&(this.name=i.pathname),this.name=K.sanitizeString(r,this.name)},kt=function(){function e(e,t){Object(s.l)()&&(this.sessionManager=new wt(t,e),this.application=new It,this.device=new _t,this.internal=new Tt(t),this.location=new Ct,this.user=new St(t,e),this.telemetryTrace=new Et(void 0,void 0,void 0,e),this.session=new bt),this.appId=function(){return null}}return e.prototype.applySessionContext=function(e,t){var n=this.session||this.sessionManager&&this.sessionManager.automaticSession;n&&"string"==typeof n.id&&(e.ext.app.sesId=n.id),this.session&&("string"==typeof this.session.id?e.ext.app.sesId=this.session.id:e.ext.app.sesId=this.sessionManager.automaticSession.id)},e.prototype.applyOperatingSystemContxt=function(e,t){this.os&&this.os.name&&(e.ext.os=this.os)},e.prototype.applyApplicationContext=function(e,t){this.application&&("string"==typeof this.application.ver&&(e.tags[Oe.applicationVersion]=this.application.ver),"string"==typeof this.application.build&&(e.tags[Oe.applicationBuild]=this.application.build))},e.prototype.applyDeviceContext=function(e,t){this.device&&("string"==typeof this.device.id&&(e.ext.device.localId=this.device.id),"string"==typeof this.device.ip&&(e.ext.device.ip=this.device.ip),"string"==typeof this.device.model&&(e.ext.device.model=this.device.model),"string"==typeof this.device.deviceClass&&(e.ext.device.deviceClass=this.device.deviceClass))},e.prototype.applyInternalContext=function(e,t){this.internal&&("string"==typeof this.internal.agentVersion&&(e.tags[Oe.internalAgentVersion]=this.internal.agentVersion),"string"==typeof this.internal.sdkVersion&&(e.tags[Oe.internalSdkVersion]=this.internal.sdkVersion))},e.prototype.applyLocationContext=function(e,t){this.location&&"string"==typeof this.location.ip&&(e.tags[Oe.locationIp]=this.location.ip)},e.prototype.applyOperationContext=function(e,t){if(this.telemetryTrace){var n=e.ext.trace||{traceID:void 0,parentID:void 0};"string"==typeof this.telemetryTrace.traceID&&(n.traceID=this.telemetryTrace.traceID),"string"==typeof this.telemetryTrace.name&&(n.name=this.telemetryTrace.name),"string"==typeof this.telemetryTrace.parentID&&(n.parentID=this.telemetryTrace.parentID),e.ext.trace=n}},e.prototype.applyWebContext=function(e,t){this.web&&(e.ext.web=e.ext.web||{},e.ext.web=this.web)},e.prototype.applyUserContext=function(e,t){if(this.user){if(e.tags||(e.tags=[]),"string"==typeof this.user.accountId){e.tags[Oe.userAccountId]=this.user.accountId}"string"==typeof this.user.id&&(e.ext.user.id=this.user.id),"string"==typeof this.user.authenticatedId&&(e.ext.user.authId=this.user.authenticatedId)}},e.prototype.cleanUp=function(e,t){e.ext[Me.DeviceExt]&&0===v.objKeys(e.ext[Me.DeviceExt]).length&&delete e.ext[Me.DeviceExt],e.ext[Me.UserExt]&&0===v.objKeys(e.ext[Me.UserExt]).length&&delete e.ext[Me.UserExt],e.ext[Me.WebExt]&&0===v.objKeys(e.ext[Me.WebExt]).length&&delete e.ext[Me.WebExt],e.ext[Me.OSExt]&&0===v.objKeys(e.ext[Me.OSExt]).length&&delete e.ext[Me.OSExt],e.ext[Me.AppExt]&&0===v.objKeys(e.ext[Me.AppExt]).length&&delete e.ext[Me.AppExt],e.ext[Me.TraceExt]&&0===v.objKeys(e.ext[Me.TraceExt]).length&&delete e.ext[Me.TraceExt]},e}(),Dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=110,t.identifier=Le,t}return o(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){}}},t.prototype.initialize=function(n,r,i,o){var a=this;e.prototype.initialize.call(this,n,r,i,o);var s=this._getTelCtx(),c=this.identifier,l=t.getDefaultConfig();this._extensionConfig=this._extensionConfig||t.getDefaultConfig();var u=function(e){p._extensionConfig[e]=function(){return s.getConfig(c,e,l[e]())}},p=this;for(var d in l)u(d);this.context=new kt(r.logger,this._extensionConfig),this._breezeChannel=Z.getExtension(i,Re),this.context.appId=function(){return a._breezeChannel?a._breezeChannel._appId:null}},t.prototype.processTelemetry=function(e,t){if(v.isNullOrUndefined(e));else{if(t=this._getTelCtx(t),e.name===Se.envelopeType&&t.diagLog().resetInternalMessageCount(),this.context.session&&"string"!=typeof this.context.session.id&&this.context.sessionManager.update(),this._processTelemetryInternal(e,t),this.context&&this.context.user&&this.context.user.isNewUser){this.context.user.isNewUser=!1;var n=new w(b.SendBrowserInfoOnUserInit,(Object(s.g)()||{}).userAgent||"");t.diagLog().logInternalMessage(m.CRITICAL,n)}this.processNext(e,t)}},t.prototype._processTelemetryInternal=function(e,t){e.tags||(e.tags=[]),e.ext||(e.ext={});var n=e.ext;n[Me.DeviceExt]=n[Me.DeviceExt]||{},n[Me.WebExt]=n[Me.WebExt]||{},n[Me.UserExt]=n[Me.UserExt]||{},n[Me.OSExt]=n[Me.OSExt]||{},n[Me.AppExt]=n[Me.AppExt]||{},n[Me.TraceExt]=n[Me.TraceExt]||{};var r=this.context;r.applySessionContext(e,t),r.applyApplicationContext(e,t),r.applyDeviceContext(e,t),r.applyOperationContext(e,t),r.applyUserContext(e,t),r.applyOperatingSystemContxt(e,t),r.applyWebContext(e,t),r.applyLocationContext(e,t),r.applyInternalContext(e,t),r.cleanUp(e,t)},t}(D),Pt=["req","rsp","hkErr","fnErr"];function Nt(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function At(e,t,n,r,i){i>=0&&i<=2&&Nt(e,(function(e,o){var a=e.cbks,s=a[Pt[i]];if(s){t.ctx=function(){return r[o]=r[o]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var l=a[Pt[2]];l&&(t.err=e,l.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}function Mt(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=function e(t,n,r){var i=null;return t&&(v.hasOwnProperty(t,n)?i=t:r&&(i=e(t[s.o],n,!1))),i}(e,t,r),o=i[t];if(typeof o===s.m){var a=o._aiHooks;if(!a){var c=(u=a={i:0,n:t,f:o,h:[]},function(){var e=this,t=arguments,n=u.h,r={name:u.n,inst:e,ctx:null},i=[],o=[r];Nt(t,(function(e){o.push(e)})),At(n,r,o,i,0);var a=u.f;try{r.rslt=a.apply(e,t)}catch(e){throw r.err=e,At(n,r,o,i,3),e}return At(n,r,o,i,1),r.rslt});c._aiHooks=a,i[t]=c}var l={id:a.i,cbks:n,rm:function(){var e=this.id;Nt(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(l),l}}var u;return null}
/*!
 * Application Insights JavaScript SDK - Dependencies Plugin, 2.5.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var Ot=v.objKeys,Lt=v.arrForEach;function Rt(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=ne.GetDuration(i,o)),r}function jt(e,t,n,r,i){var o=0,a=Rt(n,r,i);return a&&(o=Ut(e,t,Z.msToTimeSpan(a))),o}function Ut(e,t,n){var r=0;e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1);return r}var Ft=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},zt=function e(t,n,r){var i=r;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new Ft,this.clientFailure=0,this.traceID=t,this.spanID=n,Ye(e,this,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?$.getAbsoluteUrl(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?K.sanitizeUrl(i,$.getCompleteUrl(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*ne.GetDuration(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,o=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(function(e,t){var n=e.perfTiming,r=t.properties||{},i=0,o=v.isString,a="redirect",s=a+"Start",c=a="End";if(n){i|=jt(r,a,n,s,c),i|=jt(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=jt(r,"connect",n,"connectStart","connectEnd"),i|=jt(r,"request",n,"requestStart","requestEnd"),i|=jt(r,"response",n,"responseStart","responseEnd"),i|=jt(r,"networkConnect",n,"startTime","connectEnd"),i|=jt(r,"sentRequest",n,"requestStart","responseEnd");var l=n.duration;l||(l=Rt(n,"startTime","responseEnd")||0),i|=Ut(r,"duration",l),i|=Ut(r,"perfTotal",l);var u=n.serverTiming;if(u){var p={};Lt(u,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e.name||""+t),r=p[n]||{};Lt(Ot(e),(function(t){var n=e[t];("name"!==t&&o(n)||v.isNumber(n))&&(r[t]&&(n=r[t]+";"+n),!n&&o(n)||(r[t]=n))})),p[n]=r})),i|=Ut(r,"serverTiming",p)}i|=Ut(r,"transferSize",n.transferSize),i|=Ut(r,"encodedBodySize",n.encodedBodySize),i|=Ut(r,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Ut(r,"missing",e.perfAttempts));i&&(t.properties=r)}(e,o),n&&Ot(e.requestHeaders).length>0&&(o.properties=o.properties||{},o.properties.requestHeaders=e.requestHeaders),r){var a=r();if(a){var s=a.correlationContext;if(s&&(o.correlationContext=s),a.headerMap&&Ot(a.headerMap).length>0&&(o.properties=o.properties||{},o.properties.responseHeaders=a.headerMap),e.status>=400){var c=a.type;o.properties=o.properties||{},""!==c&&"text"!==c||(o.properties.responseText=a.responseText?a.statusText+" - "+a.responseText:a.statusText),"json"===c&&(o.properties.responseText=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return o}}))},Bt=function(){function e(t,n){this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?this.traceId=t:this.traceId=Z.generateW3CId(),n&&e.isValidSpanId(n)?this.spanId=n:this.spanId=Z.generateW3CId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),qt=v.isNullOrUndefined,Ht=v.arrForEach,Vt=v.objKeys,Gt=0;function Wt(e){var t="";try{qt(e)||qt(e.ajaxData)||qt(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function Kt(e,t,n,r,i){e.diagLog().throwInternal(m.CRITICAL,t,n,r,i)}function Xt(e,t,n,r,i){e.diagLog().throwInternal(m.WARNING,t,n,r,i)}function Yt(e,t,n){return function(r){Kt(e,t,n,{ajaxDiagnosticsMessage:Wt(r.inst),exception:Z.dump(r.err)})}}function Jt(e,t){return e&&t?e.indexOf(t):-1}var Qt=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,a,c=Object(s.f)(),l=!1,u=!1,p=c&&c.host&&c.host.toLowerCase(),d=t.getEmptyConfig(),f=!1,h=0,g=!1,m=0,y=!1,w=[],I={};return Ye(t,n,(function(e,n){function c(e,t,n){w.push(function(e,t,n){return e?Mt(e[s.o],t,n,!1):null}(e,t,n))}function _(e,t,n){var r=!1,i=((v.isString(t)?t:(t||{}).url||"")||"").toLowerCase(),o=Jt(i,"?"),a=Jt(i,"#");return(-1===o||-1!==a&&a<o)&&(o=a),-1!==o&&(i=i.substring(0,o)),qt(e)?qt(t)||(r="object"==typeof t&&!0===t[re]||!!n&&!0===n[re]):r=!0===e[re]||!0===i[re],r?I[i]||(I[i]=1):I[i]&&(r=!0),r}function T(e,t){var n=!0,r=u;return qt(e)||(n=!0===t||!qt(e.ajaxData)),r&&n}function S(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function C(t){try{var n=t.getAllResponseHeaders();if(null!==n)if(-1!==Jt(n.toLowerCase(),W.requestContextHeaderLowerCase)){var r=t.getResponseHeader(W.requestContextHeader);return ee.getCorrelationContext(r)}}catch(n){Xt(e,b.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Wt(t),exception:Z.dump(n)})}}function E(e,t){if(t.requestUrl&&a&&g){var n=Object(s.h)();if(n&&v.isFunction(n.mark)){Gt++;var r=a+e+"#"+Gt;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function k(e,t,n,r){var i=t.perfMark,o=Object(s.h)(),a=d.maxAjaxPerfLookupAttempts,c=d.ajaxPerfLookupDelay,l=t.requestUrl,u=0;!function s(){try{if(o&&i){u++;for(var p=null,d=o.getEntries(),f=d.length-1;f>=0;f--){var h=d[f];if(h){if("resource"===h.entryType)h.initiatorType!==e||-1===Jt(h.name,l)&&-1===Jt(l,h.name)||(p=h);else if("mark"===h.entryType&&h.name===i.name){t.perfTiming=p;break}if(h.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=a||!1===t.async?(i&&v.isFunction(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(s,c)}catch(e){r(e)}}()}function D(t){var n="";try{qt(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){Kt(e,b.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Z.dump(t)})}return n}function P(t,n,r,i,o,a){function s(t,n,i){var o=i||{};o.fetchDiagnosticsMessage=D(r),n&&(o.exception=Z.dump(n)),Xt(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}i&&(i.responseFinishedTime=ne.Now(),i.status=n,k("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",f,o);t?e.trackDependencyDataInternal(t):s(b.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){s(b.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function N(t){if(t&&t.headers)try{var n=t.headers.get(W.requestContextHeader);return ee.getCorrelationContext(n)}catch(n){Xt(e,b.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:D(t),exception:Z.dump(n)})}}e.initialize=function(p,h,v,I){if(!e.isInitialized()){n.initialize(p,h,v,I);var D=e._getTelCtx(),A=t.getDefaultConfig();Ht(Vt(A),(function(e){d[e]=D.getConfig(t.identifier,e,A[e])}));var M=d.distributedTracingMode;if(f=d.enableRequestHeaderTracking,g=d.enableAjaxPerfTracking,m=d.maxAjaxCallsPerView,y=d.enableResponseHeaderTracking,o=M===U.AI||M===U.AI_AND_W3C,i=M===U.AI_AND_W3C||M===U.W3C,g){var O=p.instrumentationKey||"unkwn";a=O.length>5?"ai.ajxmn."+O.substring(O.length-5)+".":"ai.ajxmn."+O+"."}if(!1===d.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==s.p&&!qt(XMLHttpRequest)){var n=XMLHttpRequest[s.o];t=!(qt(n)||qt(n.open)||qt(n.send)||qt(n.abort))}try{" a ".trim()}catch(e){t=!1}if(t)try{(new XMLHttpRequest).ajaxData={};var r=XMLHttpRequest[s.o].open;XMLHttpRequest[s.o].open=r}catch(n){t=!1,Kt(e,b.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Z.dump(n)})}return t}(e)&&!u&&(c(XMLHttpRequest,"open",{req:function(t,n,i,o){var a=t.inst,s=a.ajaxData;_(a,i)||!T(a,!0)||s&&s.xhrMonitoringState.openDone||function(t,n,i,o){var a=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Z.generateW3CId(),s=Z.generateW3CId().substr(0,16),c=new zt(a,s,e.diagLog());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=o,t.ajaxData=c,function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=x.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&T(t)&&function(t){var n=t.ajaxData;function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=Wt(t),n&&(i.exception=Z.dump(n)),Xt(e,b.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=ne.Now(),n.status=t.status,k("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",f,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:C(t),type:t.responseType,responseText:S(t),response:t.response};if(y){var n=t.getAllResponseHeaders();if(n){var r=n.trim().split(/[\r\n]+/),i={};Ht(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");i[n]=r})),e.headerMap=i}}return e}));i?e.trackDependencyDataInternal(i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=Z.dump(r);n&&-1!==Jt(n.toLowerCase(),"c00c023f")||Kt(e,b.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Wt(t),exception:n})}}))}(t)}(a,n,i,o)},hkErr:Yt(e,b.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),c(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r.ajaxData;T(r)&&!i.xhrMonitoringState.sendDone&&(E("xhr",i),i.requestSentTime=ne.Now(),r=e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:Yt(e,b.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),c(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t.ajaxData;T(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:Yt(e,b.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),f&&c(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;T(r)&&(r.ajaxData.requestHeaders[t]=n)},hkErr:Yt(e,b.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),u=!0),function(){var t=(n=Object(s.b)(),!n||qt(n.Request)||qt(n.Request[s.o])||qt(n.fetch)?null:n.fetch);var n;if(!t)return;var i=Object(s.b)(),o=t.polyfill;!1===d.disableFetchTracking?(w.push(Mt(i,"fetch",{req:function(t,n,i){var a;if(l&&!_(null,n,i)&&(!o||!u)){var s=t.ctx();a=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Z.generateW3CId(),o=Z.generateW3CId().substr(0,16),a=new zt(i,o,e.diagLog());a.requestSentTime=ne.Now(),t instanceof Request?a.requestUrl=t?t.url:"":a.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method);a.method=s;var c={};n&&n.headers&&f&&(c=n.headers);return a.requestHeaders=c,E("fetch",a),a}(n,i),i=e.includeCorrelationHeaders(a,n,i),s.data=a}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(t){return P(e,(t||{}).status,t,n,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:N(t)};if(y){var n={};t.headers.forEach((function(e,t){n[t]=e})),e.headerMap=n}return e})),t})).catch((function(r){throw P(e,0,t,n,null,{error:r.message}),r})))},hkErr:Yt(e,b.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),l=!0):o&&w.push(Mt(i,"fetch",{req:function(e,t,n){_(null,t,n)}}));o&&(i.fetch.polyfill=o)}(),v.length>0&&v){for(var L=void 0,R=0;!L&&R<v.length;)v[R]&&v[R].identifier===Le&&(L=v[R]),R++;L&&(r=L.context)}}},e.teardown=function(){Ht(w,(function(e){e.rm()})),w=[],l=!1,u=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c=e._currentWindowHost||p;if(n){if(ee.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),o){var l="|"+t.traceID+"."+t.spanID;a.headers.set(W.requestIdHeader,l),f&&(t.requestHeaders[W.requestIdHeader]=l)}if((h=d.appId||r&&r.appId())&&(a.headers.set(W.requestContextHeader,W.requestContextAppIdFormat+h),f&&(t.requestHeaders[W.requestContextHeader]=W.requestContextAppIdFormat+h)),i){var u=new Bt(t.traceID,t.spanID);a.headers.set(W.traceParentHeader,u.toString()),f&&(t.requestHeaders[W.traceParentHeader]=u.toString())}return a}return a}if(s){if(ee.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)){if(o){l="|"+t.traceID+"."+t.spanID;s.setRequestHeader(W.requestIdHeader,l),f&&(t.requestHeaders[W.requestIdHeader]=l)}var h;if((h=d.appId||r&&r.appId())&&(s.setRequestHeader(W.requestContextHeader,W.requestContextAppIdFormat+h),f&&(t.requestHeaders[W.requestContextHeader]=W.requestContextAppIdFormat+h)),i){u=new Bt(t.traceID,t.spanID);s.setRequestHeader(W.traceParentHeader,u.toString()),f&&(t.requestHeaders[W.traceParentHeader]=u.toString())}}return s}},e.trackDependencyDataInternal=function(t,n,r){if(-1===m||h<m){d.distributedTracingMode!==U.W3C&&d.distributedTracingMode!==U.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+=".");var i=Ae.create(t,Ce.dataType,Ce.envelopeType,e.diagLog(),n,r);e.core.track(i)}else h===m&&Kt(e,b.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++h}})),n}return o(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,disableCorrelationHeaders:!1,distributedTracingMode:U.AI,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return Ht(Vt(e),(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(D),Zt=r,$t=function(){function e(e){e.queue=e.queue||[],e.version=e.version||2;var t=e.config||{};if(t.connectionString){var n=ce.parse(t.connectionString),r=n.ingestionendpoint;t.endpointUrl=r?r+"/v2/track":t.endpointUrl,t.instrumentationKey=n.instrumentationkey||t.instrumentationKey}this.appInsights=new tt,this.properties=new Dt,this.dependencies=new Qt,this.core=new G,this.snippet=e,this.config=t,this.getSKUDefaults()}return e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){void 0===e&&(e=!0),v.arrForEach(this.core.getTransmissionControls(),(function(t){v.arrForEach(t,(function(t){t.flush(e)}))}))},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),v.arrForEach(this.core.getTransmissionControls(),(function(t){v.arrForEach(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e){void 0===e&&(e=!1);if(e&&this.config.extensions&&this.config.extensions.length>0)throw new Error("Extensions not allowed in legacy mode");var t=[],n=new xt;return t.push(n),t.push(this.properties),t.push(this.dependencies),t.push(this.appInsights),this.core.initialize(this.config,t),this.emptyQueue(),this.pollInternalLogs(),this.addHousekeepingBeforeUnload(this),this.context=this.properties.context,this},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)v.isString(t)&&(e[t]=this[t])},e.prototype.emptyQueue=function(){try{if(Z.isArray(this.snippet.queue)){for(var e=this.snippet.queue.length,t=0;t<e;t++){(0,this.snippet.queue[t])()}this.snippet.queue=void 0,delete this.snippet.queue}}catch(e){e&&v.isFunction(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(Object(s.l)()||Object(s.j)()){var t=function(){e.onunloadFlush(!1);var t=e.appInsights.core._extensions[Le];t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=v.addEventHandler("beforeunload",t);(n=v.addEventHandler("pagehide",t)||n)||e.appInsights.core.logger.throwInternal(m.CRITICAL,b.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||v.addEventHandler("pagehide",t)}},e.prototype.getSKUDefaults=function(){this.config.diagnosticLogInterval=this.config.diagnosticLogInterval&&this.config.diagnosticLogInterval>0?this.config.diagnosticLogInterval:1e4},e}(),en=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=Z.stringToBoolOrDefault(e.enableDebug),e.disableExceptionTracking=Z.stringToBoolOrDefault(e.disableExceptionTracking),e.disableTelemetry=Z.stringToBoolOrDefault(e.disableTelemetry),e.verboseLogging=Z.stringToBoolOrDefault(e.verboseLogging),e.emitLineDelimitedJson=Z.stringToBoolOrDefault(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=Z.stringToBoolOrDefault(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=Z.stringToBoolOrDefault(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=Z.stringToBoolOrDefault(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=Z.stringToBoolOrDefault(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=Z.stringToBoolOrDefault(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Z.stringToBoolOrDefault(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=Z.stringToBoolOrDefault(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=Z.stringToBoolOrDefault(e.isRetryDisabled),e.isCookieUseDisabled=Z.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=Z.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Z.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=Z.stringToBoolOrDefault(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,i){var o={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(o)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,i,o,a){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:i,properties:{HttpMethod:t},success:o,responseCode:a})},e.prototype.trackException=function(e,t,n,r,i){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,i,o){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:i})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,i){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){throw new Error("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)"string"==typeof t&&(e[t]=this[t])},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,i){t.apply(e,[null,n,r,i])}}"function"==typeof this.snippet.logPageView&&(this.logPageView=function(t,n,r){e.trackPageView(null,t,n,r)});return"function"==typeof this.snippet.logEvent&&(this.logEvent=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[oe]=this._queue,e},e}(),tn=function(){function e(){}return e.getAppInsights=function(e,t){var n=new $t(e),r=2!==t;if(2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var i=new en(e,n);return i.updateSnippetDefinitions(e),n.loadAppInsights(r),i},e}();
/*!
 * Application Insights JavaScript SDK - Web, 2.5.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */}]);